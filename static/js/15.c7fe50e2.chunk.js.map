{"version":3,"sources":["apps/Checklists/screens/ItemCreate/index.tsx"],"names":["initialState","name","description","memo","nav","useNav","dispatch","useRootDispatch","useState","form","setForm","currentChecklist","useRootSelector","state","checklists","active","isInvalidForm","trim","length","onLeftPress","to","title","gutter","value","onChangeText","blurOnSubmit","onPress","now","Date","Error","Errors","MissingCurrentChecklistCreatingItem","createChecklistItem","completed","createdAt","id","v4","checklistId","order","updatedAt","userId","navigate"],"mappings":"iMAQMA,EAAe,CAAEC,KAAM,GAAIC,YAAa,IAE/BC,0BAAK,WAClB,IAAMC,EAAMC,cACNC,EAAWC,cAFgC,EAGzBC,mBAASR,GAHgB,mBAG1CS,EAH0C,KAGpCC,EAHoC,KAI3CC,EAAmBC,aAAgB,SAAAC,GAAK,OAAIA,EAAMC,WAAWC,UAC7DC,EAA4C,IAA5BP,EAAKR,KAAKgB,OAAOC,OAgCvC,OACE,kBAAC,IAAD,CAAQC,YAAaf,EAAIgB,GAAG,kBAAmBC,MAAM,cAAcC,QAAM,GACvE,kBAAC,IAAD,CACED,MAAM,OACNE,MAAOd,EAAKR,KACZuB,aAVmB,SAACvB,GAAD,OACvBS,GAAQ,SAAAG,GAAK,sBAAUA,EAAV,CAAiBZ,aAU1BwB,cAAY,IAEd,kBAAC,IAAD,CACEJ,MAAM,cACNE,MAAOd,EAAKP,YACZsB,aAd0B,SAACtB,GAAD,OAC9BQ,GAAQ,SAAAG,GAAK,sBAAUA,EAAV,CAAiBX,sBAe5B,kBAAC,IAAD,CAAQmB,MAAM,SAASK,QA3CN,WACnB,IAAIV,EAAJ,CADyB,IAIjBf,EAAsBQ,EAAtBR,KAAMC,EAAgBO,EAAhBP,YACRyB,EAAMC,KAAKD,MACjB,IAAKhB,EACH,MAAM,IAAIkB,MAAMC,IAAOC,qCAEzBzB,EACE0B,YAAoB,CAClB/B,OACAC,cACA+B,WAAW,EACXlB,QAAQ,EACRmB,UAAWP,EACXQ,GAAIC,cACJC,YAAa1B,EACb2B,MAAOX,EACPY,UAAWZ,EACXa,OAAQ,OAGZlC,EAASmC,YAAS","file":"static/js/15.c7fe50e2.chunk.js","sourcesContent":["import React, { memo, useState } from \"react\";\nimport { Button, Screen, TextInput } from \"../../../../components\";\nimport { navigate } from \"../../../../models\";\nimport { createChecklistItem } from \"../../models\";\nimport { useRootDispatch, useRootSelector, Errors } from \"../../../../utils\";\nimport { useNav } from \"../../../../hooks\";\nimport { v4 } from \"uuid\";\n\nconst initialState = { name: \"\", description: \"\" };\n\nexport default memo(function ChecklistItemCreate() {\n  const nav = useNav();\n  const dispatch = useRootDispatch();\n  const [form, setForm] = useState(initialState);\n  const currentChecklist = useRootSelector(state => state.checklists.active);\n  const isInvalidForm = form.name.trim().length === 0;\n\n  const handleSubmit = () => {\n    if (isInvalidForm) {\n      return;\n    }\n    const { name, description } = form;\n    const now = Date.now();\n    if (!currentChecklist) {\n      throw new Error(Errors.MissingCurrentChecklistCreatingItem);\n    }\n    dispatch(\n      createChecklistItem({\n        name,\n        description,\n        completed: false,\n        active: true,\n        createdAt: now,\n        id: v4(),\n        checklistId: currentChecklist,\n        order: now,\n        updatedAt: now,\n        userId: \"1\"\n      })\n    );\n    dispatch(navigate(\"checklistsList\")); // TODO: batch\n  };\n  const handleNameChange = (name: string) =>\n    setForm(state => ({ ...state, name }));\n  const handleDescriptionChange = (description: string) =>\n    setForm(state => ({ ...state, description }));\n\n  return (\n    <Screen onLeftPress={nav.to(\"checklistsList\")} title=\"Create Item\" gutter>\n      <TextInput\n        title=\"name\"\n        value={form.name}\n        onChangeText={handleNameChange}\n        blurOnSubmit\n      />\n      <TextInput\n        title=\"description\"\n        value={form.description}\n        onChangeText={handleDescriptionChange}\n      />\n      <Button title=\"create\" onPress={handleSubmit} />\n    </Screen>\n  );\n});\n"],"sourceRoot":""}