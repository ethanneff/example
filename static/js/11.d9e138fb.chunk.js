(this.webpackJsonpexample=this.webpackJsonpexample||[]).push([[11],{178:function(e,t,n){"use strict";var r=n(44),o={centroidDimension:function(e,t,n,r){var a=e.touchBank,u=0,c=0,i=1===e.numberActiveTouches?e.touchBank[e.indexOfSingleActiveTouch]:null;if(null!==i)i.touchActive&&i.currentTimeStamp>t&&(u+=r&&n?i.currentPageX:r&&!n?i.currentPageY:!r&&n?i.previousPageX:i.previousPageY,c=1);else for(var s=0;s<a.length;s++){var l=a[s];if(null!==l&&void 0!==l&&l.touchActive&&l.currentTimeStamp>=t){u+=r&&n?l.currentPageX:r&&!n?l.currentPageY:!r&&n?l.previousPageX:l.previousPageY,c++}}return c>0?u/c:o.noCentroid},currentCentroidXOfTouchesChangedAfter:function(e,t){return o.centroidDimension(e,t,!0,!0)},currentCentroidYOfTouchesChangedAfter:function(e,t){return o.centroidDimension(e,t,!1,!0)},previousCentroidXOfTouchesChangedAfter:function(e,t){return o.centroidDimension(e,t,!0,!1)},previousCentroidYOfTouchesChangedAfter:function(e,t){return o.centroidDimension(e,t,!1,!1)},currentCentroidX:function(e){return o.centroidDimension(e,0,!0,!0)},currentCentroidY:function(e){return o.centroidDimension(e,0,!1,!0)},noCentroid:-1},a=o,u=a.currentCentroidXOfTouchesChangedAfter,c=a.currentCentroidYOfTouchesChangedAfter,i=a.previousCentroidXOfTouchesChangedAfter,s=a.previousCentroidYOfTouchesChangedAfter,l=a.currentCentroidX,d=a.currentCentroidY,f={_initializeGestureState:function(e){e.moveX=0,e.moveY=0,e.x0=0,e.y0=0,e.dx=0,e.dy=0,e.vx=0,e.vy=0,e.numberActiveTouches=0,e._accountsForMovesUpTo=0},_updateGestureStateOnMove:function(e,t){e.numberActiveTouches=t.numberActiveTouches,e.moveX=u(t,e._accountsForMovesUpTo),e.moveY=c(t,e._accountsForMovesUpTo);var n=e._accountsForMovesUpTo,r=i(t,n),o=u(t,n),a=s(t,n),l=c(t,n),d=e.dx+(o-r),f=e.dy+(l-a),p=t.mostRecentTimeStamp-e._accountsForMovesUpTo;e.vx=(d-e.dx)/p,e.vy=(f-e.dy)/p,e.dx=d,e.dy=f,e._accountsForMovesUpTo=t.mostRecentTimeStamp},create:function(e){var t={handle:null},n={stateID:Math.random(),moveX:0,moveY:0,x0:0,y0:0,dx:0,dy:0,vx:0,vy:0,numberActiveTouches:0,_accountsForMovesUpTo:0};return{panHandlers:{onStartShouldSetResponder:function(t){return null!=e.onStartShouldSetPanResponder&&e.onStartShouldSetPanResponder(t,n)},onMoveShouldSetResponder:function(t){return null!=e.onMoveShouldSetPanResponder&&e.onMoveShouldSetPanResponder(t,n)},onStartShouldSetResponderCapture:function(t){return 1===t.nativeEvent.touches.length&&f._initializeGestureState(n),n.numberActiveTouches=t.touchHistory.numberActiveTouches,null!=e.onStartShouldSetPanResponderCapture&&e.onStartShouldSetPanResponderCapture(t,n)},onMoveShouldSetResponderCapture:function(t){var r=t.touchHistory;return n._accountsForMovesUpTo!==r.mostRecentTimeStamp&&(f._updateGestureStateOnMove(n,r),!!e.onMoveShouldSetPanResponderCapture&&e.onMoveShouldSetPanResponderCapture(t,n))},onResponderGrant:function(o){return t.handle||(t.handle=r.a.createInteractionHandle()),n.x0=l(o.touchHistory),n.y0=d(o.touchHistory),n.dx=0,n.dy=0,e.onPanResponderGrant&&e.onPanResponderGrant(o,n),null==e.onShouldBlockNativeResponder||e.onShouldBlockNativeResponder(o,n)},onResponderReject:function(r){p(t,e.onPanResponderReject,r,n)},onResponderRelease:function(r){p(t,e.onPanResponderRelease,r,n),f._initializeGestureState(n)},onResponderStart:function(t){var r=t.touchHistory;n.numberActiveTouches=r.numberActiveTouches,e.onPanResponderStart&&e.onPanResponderStart(t,n)},onResponderMove:function(t){var r=t.touchHistory;n._accountsForMovesUpTo!==r.mostRecentTimeStamp&&(f._updateGestureStateOnMove(n,r),e.onPanResponderMove&&e.onPanResponderMove(t,n))},onResponderEnd:function(r){var o=r.touchHistory;n.numberActiveTouches=o.numberActiveTouches,p(t,e.onPanResponderEnd,r,n)},onResponderTerminate:function(r){p(t,e.onPanResponderTerminate,r,n),f._initializeGestureState(n)},onResponderTerminationRequest:function(t){return null==e.onPanResponderTerminationRequest||e.onPanResponderTerminationRequest(t,n)}},getInteractionHandle:function(){return t.handle}}}};function p(e,t,n,o){e.handle&&(r.a.clearInteractionHandle(e.handle),e.handle=null),t&&t(n,o)}var v=f;t.a=v},244:function(e,t,n){"use strict";n.r(t);var r=n(3),o=n(172),a=n(0),u=n.n(a),c=n(7),i=n(171),s=n(42),l=function(e){var t=Math.floor(e/2),n=function(e){for(var t=[],n=0;n<e;n++){t[n]=[];for(var r=0;r<e;r++)t[n][r]=0}return t}(e),r=d(n),o=[t,t],a=[t,t];return n[t][t]=1,n[r[0]][r[1]]=2,{matrix:n,head:o,tail:a,food:r,state:"ok"}},d=function(e){var t=function(e){for(var t=[],n=0;n<e.length;n++)for(var r=0;r<e[n].length;r++)0===e[n][r]&&t.push([n,r]);return t}(e);return t[function(e){return Math.floor(Math.random()*e.length)}(t)]},f=n(4),p=n(24),v=Object(a.memo)((function(e){var t=e.value,n=e.length,r=Object(s.a)(),o=Object(f.g)(p.h)/n,a=0===t?r.light:1===t?r.success:r.danger;return u.a.createElement(c.a,{style:{flex:1,width:o,height:o,borderWidth:1,borderColor:r.surface,backgroundColor:a}})})),h=function(e){var t=e.matrix;return(u.a.createElement(c.a,{style:{flex:1,justifyContent:"center"}},t.map((function(e,n){return u.a.createElement(c.a,{key:n,style:{flexDirection:"row"}},e.map((function(e,r){return u.a.createElement(v,{key:"cell-".concat(n).concat(r),length:t.length,value:e})})))}))))},m=n(178),b={left:"right",right:"left",up:"down",down:"up"},R=Object(a.memo)((function(e){var t=e.onPress;return(u.a.createElement(i.h,null,u.a.createElement(i.m,{title:"good try"}),u.a.createElement(i.b,{onPress:t,title:"again"})))}));t.default=Object(a.memo)((function(){var e=Object(s.a)(),t=Object(s.d)(),n=Object(a.useState)({board:l(20),points:0,state:"off"}),f=Object(o.a)(n,2),p=f[0],v=f[1],S=function(e){var t=e.noReverse,n=Object(a.useRef)("up"),r=m.a.create({onStartShouldSetPanResponder:function(){return!0},onPanResponderRelease:function(e,r){var o;o=Math.abs(r.dx)>=Math.abs(r.dy)?r.dx>=0?"right":"left":r.dy>=0?"down":"up";var a=t&&b[o]===n.current;n.current=a?n.current:o}});return{direction:n,panHandlers:r.panHandlers}}({noReverse:!0}),g=S.direction,T=S.panHandlers,C=function(e){var t=e.precision,n=void 0===t?16:t,r=e.frequency,o=void 0===r?60:r,u=e.onUpdate,c=Object(a.useRef)("off"),i=Object(a.useRef)(0),s=Object(a.useRef)(null),l=Object(a.useCallback)((function(){s.current=setTimeout((function(){var e=Date.now();e-i.current>=o&&(i.current=e,u(e)),l()}),n)}),[o,n,u]),d=Object(a.useCallback)((function(){c.current="off",s.current&&clearTimeout(s.current)}),[]),f=Object(a.useCallback)((function(){d(),c.current="on";var e=Date.now();i.current=e,u(e),l()}),[d,l,u]);return Object(a.useEffect)((function(){return function(){return d()}}),[d]),{stop:d,start:f}}({frequency:200,onUpdate:Object(a.useCallback)((function(){var e=function(e,t){var n=function(e,t,n){var r,o;switch(e){case"up":return r=t[0]-1,o=t[1],r<0?null:[r,o];case"down":return r=t[0]+1,o=t[1],r>=n.length?null:[r,o];case"left":return r=t[0],(o=t[1]-1)<0?null:[r,o];case"right":return r=t[0],(o=t[1]+1)>=n[0].length?null:[r,o];default:return null}}(t,e.head,e.matrix);if(!n)return e.state="hit wall",e;var r=e.matrix[n[0]][n[1]];if(1===r)e.state="hit snake";else if(2===r){var o=d(e.matrix);e.matrix[o[0]][o[1]]=2,e.state="ate food"}else e.state="ok";return e.matrix[n[0]][n[1]]=1,e.head=n,e}(p.board,g.current);"ate food"===e.state?v((function(t){return Object(r.a)({},t,{board:e,points:t.points+1})})):"ok"===e.state?v((function(t){return Object(r.a)({},t,{board:e})})):v((function(t){return Object(r.a)({},t,{board:e,state:"error"})}))}),[g,p.board])}),O=C.start,P=C.stop,y=Object(a.useCallback)((function(){var e=l(20);v((function(t){return Object(r.a)({},t,{board:e,points:0,state:"on"})}))}),[]),j=Object(a.useCallback)((function(){v((function(e){return Object(r.a)({},e,{state:"off"})}))}),[]);return Object(a.useEffect)((function(){"on"===p.state?O():(g.current="up",P())}),[p.state,O,P,g]),u.a.createElement(u.a.Fragment,null,u.a.createElement(i.j,{onLeftPress:t.to("portfolioLanding"),title:"Snake"},u.a.createElement(c.a,{style:{flexDirection:"row",justifyContent:"center"}},u.a.createElement(i.b,{onPress:y,title:"start"}),u.a.createElement(i.b,{onPress:j,title:"stop"}),u.a.createElement(i.m,{title:"points: ".concat(p.points)})),u.a.createElement(c.a,Object.assign({style:{flex:1,backgroundColor:e.success}},T),u.a.createElement(h,{matrix:p.board.matrix}))),"error"===p.state&&u.a.createElement(R,{onPress:y}))}))}}]);
//# sourceMappingURL=11.d9e138fb.chunk.js.map