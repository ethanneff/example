(this.webpackJsonpexample=this.webpackJsonpexample||[]).push([[33],{243:function(e,t,a){"use strict";a.r(t);var r=a(172),c=a(205),n=a(0),o=a.n(n),s=a(171),l=a(40),i=a(8),u=Object(n.memo)((function(e){var t=e.children,a=e.onLayout,r=Object(l.a)();return o.a.createElement(i.a,{onLayout:a,style:{flex:1,backgroundColor:r.surface}},t)})),b=a(3),d=a(178),m={tracks:[],color:"lightgrey"},h=function(e,t){switch(t.type){case"addColor":return Object(b.a)({},e,{color:t.payload});case"addTrack":for(var a=Object(d.a)(e.tracks);a.length>10;)a.pop();return Object(b.a)({},e,{tracks:[Object(b.a)({},t.payload,{color:e.color})].concat(Object(d.a)(a))});default:return e}},y=Object(n.createContext)({state:m,dispatch:function(){}}),O=Object(n.memo)((function(){var e=Object(l.b)(10),t=Object(n.useContext)(y).dispatch,a=Object(l.a)(),r={width:50,height:50},c=Object(n.useCallback)((function(e){return function(){return t({type:"addColor",payload:e})}}),[t]);return o.a.createElement(i.a,{style:{position:"absolute",bottom:50,right:50,transform:[{rotate:"45deg"}]}},o.a.createElement(i.a,{style:{flexDirection:"row"}},o.a.createElement(s.o,{onPress:c("violet"),style:Object(b.a)({},r,{backgroundColor:a.info,borderTopLeftRadius:50},e)}),o.a.createElement(s.o,{onPress:c("mediumseagreen"),style:Object(b.a)({},r,{backgroundColor:a.success,borderTopRightRadius:50},e)})),o.a.createElement(i.a,{style:{flexDirection:"row"}},o.a.createElement(s.o,{onPress:c("slateblue"),style:Object(b.a)({},r,{backgroundColor:a.primary,borderBottomLeftRadius:50},e)}),o.a.createElement(s.o,{onPress:c("orange"),style:Object(b.a)({},r,{backgroundColor:a.warning,borderBottomRightRadius:50},e)})))})),f=a(168),j=a(203),g=Object(n.memo)((function(e){var t=e.canvas,a=Object(n.useRef)({x:t.width/2-30,y:t.height/2-30}),r=new f.a.ValueXY(a.current),c=Object(l.c)(),s=Object(n.useContext)(y).dispatch,i=Object(l.a)(),u=Object(n.useCallback)((function(e,n){var o=function(e){var t=e.current.x-e.change.dx,a=e.current.y+e.change.dy,r=a<0?0:a+e.size>e.canvas.height?e.canvas.height-e.size:a;return{x:t<0?0:t+e.size>e.canvas.width?e.canvas.width-e.size:t,y:r}}({canvas:t,change:{dx:6*e,dy:6*n},current:a.current,size:30});a.current=o,s({type:"addTrack",payload:Object(b.a)({},o,{size:30})}),f.a.spring(r,{toValue:o,useNativeDriver:c}).start()}),[t,s,r,c]);return Object(n.useEffect)((function(){Object(j.c)(j.a.accelerometer,16);var e=j.b.subscribe((function(e){var t=e.x,a=e.y;return u(t,a)}));return function(){e.unsubscribe()}}),[16,u]),o.a.createElement(f.a.View,{style:[r.getLayout(),{width:30,height:30,borderRadius:30,elevation:5,shadowColor:i.text,shadowOffset:{height:2,width:0},shadowOpacity:.3,shadowRadius:3,zIndex:5,backgroundColor:i.primary}]})})),p=a(7),v=Object(n.memo)((function(e){var t=e.track,a=t.size/4,r=p.a.create({tracks:{backgroundColor:t.color,borderRadius:t.size,height:a,opacity:.4,position:"absolute",width:a}});return o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a,{style:Object(b.a)({},r.tracks,{top:t.y-t.size/2-a/2,left:t.x+t.size/2-t.size/2})}),o.a.createElement(i.a,{style:Object(b.a)({},r.tracks,{top:t.y-t.size/2-a/2,left:t.x+t.size/2+t.size/2-a})}))})),E=Object(n.memo)((function(){var e=Object(n.useContext)(y).state;return(o.a.createElement(o.a.Fragment,null,e.tracks.map((function(e,t){return o.a.createElement(v,{key:"".concat(e.x).concat(e.y).concat(t),track:e})}))))})),k=Object(n.memo)((function(){var e=Object(n.useState)(null),t=Object(r.a)(e,2),a=t[0],c=t[1],s=Object(n.useCallback)((function(e){var t=e.nativeEvent.layout,a=t.x,r=t.y,n=t.height,o=t.width;c({x:a,y:r,height:n,width:o})}),[]);return o.a.createElement(i.a,{style:{flex:1}},o.a.createElement(u,{onLayout:s},a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(g,{canvas:a}),o.a.createElement(E,null))),o.a.createElement(O,null))}));t.default=Object(n.memo)((function(){var e=Object(l.d)(),t=Object(n.useReducer)(h,m),a=Object(r.a)(t,2),i=a[0],u=a[1],b=c.a.isEmulatorSync();return o.a.createElement(s.j,{border:!0,onLeftPress:e.to("playground"),title:"Drift"},o.a.createElement(y.Provider,{value:{state:i,dispatch:u}},b?o.a.createElement(s.m,{center:!0,title:"simulators not supported"}):o.a.createElement(k,null)))}))}}]);
//# sourceMappingURL=33.089ba248.chunk.js.map