{"version":3,"sources":["apps/Debug/screens/Questionnaire/screens/Questionnaires.tsx","apps/Debug/screens/Questionnaire/index.tsx"],"names":["mapDispatchToProps","createQuestionnaire","removeQuestionnaire","selectQuestionnaire","updateQuestionnaire","Questionnaires","connect","state","questionnaires","getQuestionnaireArray","selected","props","useState","actionSheet","setActionSheet","color","useColor","handleLongPress","useCallback","id","handleItemPress","handleActionSheetClose","handleCreate","String","Date","now","handleItemMenu","renderItem","item","length","questions","subtitle","onPress","onLongPress","View","style","flexDirection","justifyContent","flex","h3","title","caption","name","FlatList","keyExtractor","data","extraData","background","margin","position","bottom","right","fab","onBackgroundPress","Container","choices","key","next","type","output","width","Dimensions","get","tableView","currentIndex","onViewableItemsChanged","viewableItems","index","onProgress","direction","onFinish","scrollToIndex","animated","onSelection","choice","setRef","ref","items","map","nav","to","navigate","onLeftPress","this","scrollEnabled","removeClippedSubviews","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","viewabilityConfig","itemVisiblePercentThreshold","horizontal","pagingEnabled","React","PureComponent"],"mappings":"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","file":"static/js/34.39c7382e.chunk.js","sourcesContent":["import React, { useState, useCallback } from \"react\";\nimport { FlatList, View } from \"react-native\";\nimport { connect } from \"react-redux\";\nimport { Card, Dialog, Text, Icon } from \"../../../../../components\";\nimport { RootState } from \"../../../../../containers\";\nimport {\n  Questionnaire,\n  createQuestionnaire,\n  getQuestionnaireArray,\n  removeQuestionnaire,\n  selectQuestionnaire,\n  updateQuestionnaire\n} from \"../models\";\nimport { useColor } from \"../../../../../hooks\";\n\ninterface StateProps {\n  questionnaires: Questionnaire[];\n  selected?: string;\n}\ninterface DispatchProps {\n  removeQuestionnaire: typeof removeQuestionnaire;\n  selectQuestionnaire: typeof selectQuestionnaire;\n  updateQuestionnaire: typeof updateQuestionnaire;\n  createQuestionnaire: typeof createQuestionnaire;\n}\ntype Props = StateProps & DispatchProps;\n\nconst Container = (props: Props) => {\n  const [actionSheet, setActionSheet] = useState(false);\n  const color = useColor();\n  const handleLongPress = useCallback(\n    (id: string) => () => props.removeQuestionnaire(id),\n    [props]\n  );\n  const handleItemPress = useCallback(\n    (id: string) => () => props.selectQuestionnaire(id),\n    [props]\n  );\n  const handleActionSheetClose = useCallback(() => setActionSheet(false), []);\n  const handleCreate = useCallback(\n    () => props.createQuestionnaire(String(Date.now())),\n    [props]\n  );\n  const handleItemMenu = useCallback(() => {\n    setActionSheet(state => !state);\n  }, []);\n  const renderItem = useCallback(\n    ({ item }) => {\n      const length = item.questions.length;\n      const subtitle = `${length} question${length === 1 ? \"\" : \"s\"}`;\n      return (\n        <Card\n          onPress={handleItemPress(item.id)}\n          onLongPress={handleLongPress(item.id)}\n          selected={props.selected === item.id}\n        >\n          <View\n            style={{\n              flexDirection: \"row\",\n              justifyContent: \"space-between\"\n            }}\n          >\n            <View style={{ flex: 0.9 }}>\n              <Text h3 title={item.title} />\n              <Text caption title={subtitle} />\n            </View>\n            <Icon name=\"dots-horizontal\" onPress={handleItemMenu} />\n          </View>\n        </Card>\n      );\n    },\n    [handleItemMenu, handleItemPress, handleLongPress, props.selected]\n  );\n\n  return (\n    <>\n      <FlatList\n        keyExtractor={item => item.id}\n        data={props.questionnaires}\n        extraData={props.selected}\n        renderItem={renderItem}\n      />\n      <Icon\n        name=\"plus\"\n        color={color.background}\n        onPress={handleCreate}\n        style={{\n          margin: 10,\n          position: \"absolute\",\n          bottom: 0,\n          right: 0\n        }}\n        fab\n      />\n      {actionSheet && \n        <Dialog title=\"hello\" onBackgroundPress={handleActionSheetClose} />\n      }\n    </>\n  );\n};\n\nconst mapStateToProps = (state: RootState): StateProps => ({\n  questionnaires: getQuestionnaireArray(state),\n  selected: state.questionnaires.selected\n});\n\nconst mapDispatchToProps: DispatchProps = {\n  createQuestionnaire,\n  removeQuestionnaire,\n  selectQuestionnaire,\n  updateQuestionnaire\n};\n\nexport const Questionnaires = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Container);\n","import React from \"react\";\nimport { Dimensions, FlatList, View } from \"react-native\";\nimport { connect } from \"react-redux\";\nimport { Button, Screen, Text } from \"../../../../components\";\nimport { NavigationScreen, navigate } from \"../../../../models\";\nimport { Questionnaires } from \"./screens/Questionnaires\";\n\ninterface DispatchProps {\n  navigate: typeof navigate;\n}\n\ntype Props = DispatchProps;\n\nclass Container extends React.PureComponent<Props> {\n  private readonly data = [\n    {\n      choices: [\n        {\n          key: \"1\",\n          selected: false,\n          title: \"individual\"\n        },\n        {\n          key: \"2\",\n          selected: false,\n          title: \"couple\"\n        },\n        {\n          key: \"3\",\n          selected: false,\n          title: \"teen\"\n        }\n      ],\n      key: \"1\",\n      next: \"2\",\n      title: \"What type of counseling are you looking for\",\n      type: \"radio\"\n    },\n    { key: \"2\", title: \"2\" },\n    { key: \"3\", title: \"3\" },\n    { key: \"4\", title: \"4\" },\n    { key: \"5\", title: \"5\" }\n  ];\n  private output: any = {};\n  private readonly width = Dimensions.get(\"window\").width;\n  private tableView: any;\n  private currentIndex = 0;\n\n  public onViewableItemsChanged = ({ viewableItems }: any) => {\n    this.currentIndex = viewableItems[0].index || 0;\n  };\n\n  public onProgress = (direction = 1) => {\n    const index = this.currentIndex + direction;\n    if (index < 0) {\n      return;\n    }\n    if (index >= this.data.length) {\n      this.onFinish();\n      return;\n    }\n    this.tableView.scrollToIndex({\n      animated: true,\n      index\n    });\n  };\n\n  public onSelection = (item: any, choice: any) => {\n    this.output = {\n      ...this.output,\n      [item.key]: {\n        ...this.output[item.key],\n        [choice.key]: true\n      }\n    };\n\n    // this.onProgress();\n  };\n\n  public onFinish = () => undefined;\n\n  setRef = (ref: any) => {\n    this.tableView = ref;\n  };\n\n  renderItem = ({ item }: { item: any }) => {\n    let items: any = <View style={{ flex: 1 }} />;\n\n    if (item.choices) {\n      items = \n        <View style={{ flex: 1 }}>\n          {item.choices.map((choice: any) => {\n            return (\n              <Button\n                key={choice.title}\n                title={choice.title}\n                onPress={() => {\n                  this.onSelection(item, choice);\n                }}\n              />\n            );\n          })}\n        </View>\n      ;\n    }\n\n    return (\n      <View style={{ width: this.width }}>\n        <Text title={item.title} />\n        {items}\n        <View\n          style={{\n            flexDirection: \"row\",\n            justifyContent: \"space-around\"\n          }}\n        >\n          <Button title=\"prev\" onPress={() => this.onProgress(-1)} />\n          <Button title=\"next\" onPress={() => this.onProgress(1)} />\n          <Button title=\"next2\" onPress={() => this.onProgress(2)} />\n        </View>\n      </View>\n    );\n  };\n\n  public render() {\n    return (\n      <Screen onLeftPress={this.nav(\"debug\")} title=\"Questionnaire\">\n        <FlatList\n          scrollEnabled={false}\n          ref={this.setRef}\n          removeClippedSubviews\n          showsHorizontalScrollIndicator={false}\n          showsVerticalScrollIndicator={false}\n          onViewableItemsChanged={this.onViewableItemsChanged}\n          viewabilityConfig={{\n            itemVisiblePercentThreshold: 50\n          }}\n          horizontal\n          pagingEnabled\n          data={this.data}\n          renderItem={this.renderItem}\n        />\n        <Questionnaires />\n      </Screen>\n    );\n  }\n  private nav = (to: NavigationScreen) => () => this.props.navigate(to);\n}\n\nconst mapDispatchToProps: DispatchProps = { navigate };\n\nexport default connect(null, mapDispatchToProps)(Container);\n"],"sourceRoot":""}