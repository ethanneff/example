{"version":3,"sources":["apps/Checklists/screens/ListUpdate/index.tsx"],"names":["memo","nav","useNav","dispatch","useRootDispatch","checklist","useRootSelector","getCurrentChecklist","useState","showDeleteDialog","setShowDeleteDialog","name","description","form","setForm","isInvalidForm","trim","length","handleDelete","useCallback","removeList","id","navigate","handleDeletePress","handleDeleteCancel","navBack","gutter","onLeftPress","title","onChangeText","state","value","onPress","now","Date","updateList","updatedAt","color","onBackgroundPress","onCancelButtonPress","onConfirmButtonPress"],"mappings":"wLAOeA,0BAAK,WAClB,IAAMC,EAAMC,cACNC,EAAWC,cACXC,EAAYC,YAAgBC,KAHW,EAIGC,oBAAS,GAJZ,mBAItCC,EAJsC,KAIpBC,EAJoB,OAKrBF,mBAAS,CAC/BG,KAAMN,EAAUM,KAChBC,YAAaP,EAAUO,aAAe,KAPK,mBAKtCC,EALsC,KAKhCC,EALgC,KASvCC,EAA4C,IAA5BF,EAAKF,KAAKK,OAAOC,OAuBjCC,EAAeC,uBAAY,WAC/BT,GAAoB,GACpBP,EAASiB,YAAWf,EAAUgB,KAC9BlB,EAASmB,YAAS,iBACjB,CAACnB,EAAUE,EAAUgB,KAElBE,EAAoBJ,uBAAY,kBAAMT,GAAoB,KAAO,IACjEc,EAAqBL,uBAAY,kBAAMT,GAAoB,KAAQ,IACnEe,EAAUN,sBAAYlB,EAAI,cAAe,CAACA,IAEhD,OACE,oCACE,kBAAC,IAAD,CAAQyB,QAAM,EAACC,YAAaF,EAASG,MAAM,oBACzC,kBAAC,IAAD,CACEC,aAnCiB,SAAClB,GAAD,OACvBG,GAAQ,SAACgB,GAAD,sBAAgBA,EAAhB,CAAuBnB,aAmCzBiB,MAAM,OACNG,MAAOlB,EAAKF,OAEd,kBAAC,IAAD,CACEkB,aAtCwB,SAACjB,GAAD,OAC9BE,GAAQ,SAACgB,GAAD,sBAAgBA,EAAhB,CAAuBlB,oBAsCzBgB,MAAM,cACNG,MAAOlB,EAAKD,cAEd,kBAAC,IAAD,CAAQoB,QAxCO,WAAO,IACnBrB,EAAqBE,EAArBF,KAAMC,EAAeC,EAAfD,YACPqB,EAAMC,KAAKD,MACblB,IAGJZ,EACEgC,YAAW,eACN9B,EADK,CAERM,OACAC,cACAwB,UAAWH,MAGf9B,EAASmB,YAAS,iBA0BiBM,MAAM,WACrC,kBAAC,IAAD,CAAQS,MAAM,SAASL,QAAST,EAAmBK,MAAM,YAE1DnB,GACC,kBAAC,IAAD,CACE6B,kBAAmBd,EACnBe,oBAAqBf,EACrBgB,qBAAsBtB,EACtBU,MAAM","file":"static/js/28.37a7b61c.chunk.js","sourcesContent":["import React, {memo, useCallback, useState} from 'react';\nimport {Button, Dialog, Screen, TextInput} from '../../../../components';\nimport {getCurrentChecklist, removeList, updateList} from '../../models';\nimport {useNav} from '../../../../hooks';\nimport {useRootDispatch, useRootSelector} from '../../../../utils';\nimport {navigate} from '../../../../models';\n\nexport default memo(function ChecklistUpdate() {\n  const nav = useNav();\n  const dispatch = useRootDispatch();\n  const checklist = useRootSelector(getCurrentChecklist);\n  const [showDeleteDialog, setShowDeleteDialog] = useState(false);\n  const [form, setForm] = useState({\n    name: checklist.name,\n    description: checklist.description || '',\n  });\n  const isInvalidForm = form.name.trim().length === 0;\n\n  const handleNameChange = (name: string) =>\n    setForm((state) => ({...state, name}));\n  const handleDescriptionChange = (description: string) =>\n    setForm((state) => ({...state, description}));\n  const handleSubmit = () => {\n    const {name, description} = form;\n    const now = Date.now();\n    if (isInvalidForm) {\n      return;\n    }\n    dispatch(\n      updateList({\n        ...checklist,\n        name,\n        description,\n        updatedAt: now,\n      }),\n    );\n    dispatch(navigate('checklists'));\n  };\n\n  const handleDelete = useCallback(() => {\n    setShowDeleteDialog(false);\n    dispatch(removeList(checklist.id));\n    dispatch(navigate('checklists'));\n  }, [dispatch, checklist.id]);\n\n  const handleDeletePress = useCallback(() => setShowDeleteDialog(true), []);\n  const handleDeleteCancel = useCallback(() => setShowDeleteDialog(false), []);\n  const navBack = useCallback(nav('checklists'), [nav]);\n\n  return (\n    <>\n      <Screen gutter onLeftPress={navBack} title=\"Update Checklist\">\n        <TextInput\n          onChangeText={handleNameChange}\n          title=\"name\"\n          value={form.name}\n        />\n        <TextInput\n          onChangeText={handleDescriptionChange}\n          title=\"description\"\n          value={form.description}\n        />\n        <Button onPress={handleSubmit} title=\"update\" />\n        <Button color=\"danger\" onPress={handleDeletePress} title=\"delete\" />\n      </Screen>\n      {showDeleteDialog && (\n        <Dialog\n          onBackgroundPress={handleDeleteCancel}\n          onCancelButtonPress={handleDeleteCancel}\n          onConfirmButtonPress={handleDelete}\n          title=\"are you sure?\"\n        />\n      )}\n    </>\n  );\n});\n"],"sourceRoot":""}