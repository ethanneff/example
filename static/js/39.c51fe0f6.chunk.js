(this.webpackJsonpexample=this.webpackJsonpexample||[]).push([[39],{285:function(t,n,e){"use strict";e.r(n);var a=e(182),r=e(0),i=e.n(r),o=e(181),c=e(41),u=e(3),s=e(44),l=e(178),h=e(199),f=e(193),y=(Array.prototype.slice,function(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}),p=function(t){return function(){return t}},d=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},g=function(t){return t},m=Math.abs,x=Math.atan2,v=Math.cos,_=Math.max,b=Math.min,M=Math.sin,O=Math.sqrt,A=Math.PI,j=A/2,S=2*A;function w(t){return t>1?0:t<-1?A:Math.acos(t)}function E(t){return t>=1?j:t<=-1?-j:Math.asin(t)}var R=Math.PI,T=2*R,k=T-1e-6;function C(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function P(){return new C}C.prototype=P.prototype={constructor:C,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,a){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+a)},bezierCurveTo:function(t,n,e,a,r,i){this._+="C"+ +t+","+ +n+","+ +e+","+ +a+","+(this._x1=+r)+","+(this._y1=+i)},arcTo:function(t,n,e,a,r){t=+t,n=+n,e=+e,a=+a,r=+r;var i=this._x1,o=this._y1,c=e-t,u=a-n,s=i-t,l=o-n,h=s*s+l*l;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>1e-6)if(Math.abs(l*c-u*s)>1e-6&&r){var f=e-i,y=a-o,p=c*c+u*u,d=f*f+y*y,g=Math.sqrt(p),m=Math.sqrt(h),x=r*Math.tan((R-Math.acos((p+h-d)/(2*g*m)))/2),v=x/m,_=x/g;Math.abs(v-1)>1e-6&&(this._+="L"+(t+v*s)+","+(n+v*l)),this._+="A"+r+","+r+",0,0,"+ +(l*f>s*y)+","+(this._x1=t+_*c)+","+(this._y1=n+_*u)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,a,r,i){t=+t,n=+n,i=!!i;var o=(e=+e)*Math.cos(a),c=e*Math.sin(a),u=t+o,s=n+c,l=1^i,h=i?a-r:r-a;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+u+","+s:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+u+","+s),e&&(h<0&&(h=h%T+T),h>k?this._+="A"+e+","+e+",0,1,"+l+","+(t-o)+","+(n-c)+"A"+e+","+e+",0,1,"+l+","+(this._x1=u)+","+(this._y1=s):h>1e-6&&(this._+="A"+e+","+e+",0,"+ +(h>=R)+","+l+","+(this._x1=t+e*Math.cos(r))+","+(this._y1=n+e*Math.sin(r))))},rect:function(t,n,e,a){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +a+"h"+-e+"Z"},toString:function(){return this._}};var V=P;function L(t){return t.innerRadius}function q(t){return t.outerRadius}function z(t){return t.startAngle}function N(t){return t.endAngle}function G(t){return t&&t.padAngle}function I(t,n,e,a,r,i,o,c){var u=e-t,s=a-n,l=o-r,h=c-i,f=h*u-l*s;if(!(f*f<1e-12))return[t+(f=(l*(n-i)-h*(t-r))/f)*u,n+f*s]}function D(t,n,e,a,r,i,o){var c=t-e,u=n-a,s=(o?i:-i)/O(c*c+u*u),l=s*u,h=-s*c,f=t+l,y=n+h,p=e+l,d=a+h,g=(f+p)/2,m=(y+d)/2,x=p-f,v=d-y,b=x*x+v*v,M=r-i,A=f*d-p*y,j=(v<0?-1:1)*O(_(0,M*M*b-A*A)),S=(A*v-x*j)/b,w=(-A*x-v*j)/b,E=(A*v+x*j)/b,R=(-A*x+v*j)/b,T=S-g,k=w-m,C=E-g,P=R-m;return T*T+k*k>C*C+P*P&&(S=E,w=R),{cx:S,cy:w,x01:-l,y01:-h,x11:S*(r/M-1),y11:w*(r/M-1)}}var J=e(212),W=e.n(J),Z=function(t){var n=t.minSpin,e=t.maxSpin,a=t.numOfSegments;return t.location+360*function(t){var n=t.min,e=t.max;return Math.floor(Math.random()*(e-n)+n)}({min:n,max:e})+360*Math.floor(Math.random()*a)/a},B=Object(r.memo)((function(t){var n=t.size,e=void 0===n?s.a.get("screen").width:n,a=t.backgroundColor,o=t.textColor,_=t.fontSize,R=void 0===_?24:_,T=t.segments,k=t.noBounce,C=t.padAngle,P=void 0===C?.02:C,B=t.innerRadius,F=void 0===B?60:B,Q=t.spinSpeed,Y=void 0===Q?1e3:Q,H=t.bounceSpeed,K=void 0===H?5e3:H,U=t.minSpin,X=void 0===U?3:U,$=t.maxSpin,tt=void 0===$?7:$,nt=t.onComplete,et=Object(c.a)(),at=Object(c.b)(),rt=a||et.background,it=o||et.text,ot=e/2,ct=e/8,ut=.6*ct,st=T.length,lt=360/st,ht=lt/2,ft=Object(r.useRef)(!1),yt=Object(r.useRef)(0),pt=new l.a.Value(0),dt=new l.a.Value(-1),gt=function(){var t=g,n=d,e=null,a=p(0),r=p(S),i=p(0);function o(o){var c,u,s,l,h,f=(o=y(o)).length,p=0,d=new Array(f),g=new Array(f),m=+a.apply(this,arguments),x=Math.min(S,Math.max(-S,r.apply(this,arguments)-m)),v=Math.min(Math.abs(x)/f,i.apply(this,arguments)),_=v*(x<0?-1:1);for(c=0;c<f;++c)(h=g[d[c]=c]=+t(o[c],c,o))>0&&(p+=h);for(null!=n?d.sort((function(t,e){return n(g[t],g[e])})):null!=e&&d.sort((function(t,n){return e(o[t],o[n])})),c=0,s=p?(x-f*_)/p:0;c<f;++c,m=l)u=d[c],l=m+((h=g[u])>0?h*s:0)+_,g[u]={data:o[u],index:c,value:h,startAngle:m,endAngle:l,padAngle:v};return g}return o.value=function(n){return arguments.length?(t="function"===typeof n?n:p(+n),o):t},o.sortValues=function(t){return arguments.length?(n=t,e=null,o):n},o.sort=function(t){return arguments.length?(e=t,n=null,o):e},o.startAngle=function(t){return arguments.length?(a="function"===typeof t?t:p(+t),o):a},o.endAngle=function(t){return arguments.length?(r="function"===typeof t?t:p(+t),o):r},o.padAngle=function(t){return arguments.length?(i="function"===typeof t?t:p(+t),o):i},o}()(T.map((function(){return 1}))).map((function(t,n){var e=function(){var t=L,n=q,e=p(0),a=null,r=z,i=N,o=G,c=null;function u(){var u,s,l=+t.apply(this,arguments),h=+n.apply(this,arguments),f=r.apply(this,arguments)-j,y=i.apply(this,arguments)-j,p=m(y-f),d=y>f;if(c||(c=u=V()),h<l&&(s=h,h=l,l=s),h>1e-12)if(p>S-1e-12)c.moveTo(h*v(f),h*M(f)),c.arc(0,0,h,f,y,!d),l>1e-12&&(c.moveTo(l*v(y),l*M(y)),c.arc(0,0,l,y,f,d));else{var g,_,R=f,T=y,k=f,C=y,P=p,L=p,q=o.apply(this,arguments)/2,z=q>1e-12&&(a?+a.apply(this,arguments):O(l*l+h*h)),N=b(m(h-l)/2,+e.apply(this,arguments)),G=N,J=N;if(z>1e-12){var W=E(z/l*M(q)),Z=E(z/h*M(q));(P-=2*W)>1e-12?(k+=W*=d?1:-1,C-=W):(P=0,k=C=(f+y)/2),(L-=2*Z)>1e-12?(R+=Z*=d?1:-1,T-=Z):(L=0,R=T=(f+y)/2)}var B=h*v(R),F=h*M(R),Q=l*v(C),Y=l*M(C);if(N>1e-12){var H,K=h*v(T),U=h*M(T),X=l*v(k),$=l*M(k);if(p<A&&(H=I(B,F,X,$,K,U,Q,Y))){var tt=B-H[0],nt=F-H[1],et=K-H[0],at=U-H[1],rt=1/M(w((tt*et+nt*at)/(O(tt*tt+nt*nt)*O(et*et+at*at)))/2),it=O(H[0]*H[0]+H[1]*H[1]);G=b(N,(l-it)/(rt-1)),J=b(N,(h-it)/(rt+1))}}L>1e-12?J>1e-12?(g=D(X,$,B,F,h,J,d),_=D(K,U,Q,Y,h,J,d),c.moveTo(g.cx+g.x01,g.cy+g.y01),J<N?c.arc(g.cx,g.cy,J,x(g.y01,g.x01),x(_.y01,_.x01),!d):(c.arc(g.cx,g.cy,J,x(g.y01,g.x01),x(g.y11,g.x11),!d),c.arc(0,0,h,x(g.cy+g.y11,g.cx+g.x11),x(_.cy+_.y11,_.cx+_.x11),!d),c.arc(_.cx,_.cy,J,x(_.y11,_.x11),x(_.y01,_.x01),!d))):(c.moveTo(B,F),c.arc(0,0,h,R,T,!d)):c.moveTo(B,F),l>1e-12&&P>1e-12?G>1e-12?(g=D(Q,Y,K,U,l,-G,d),_=D(B,F,X,$,l,-G,d),c.lineTo(g.cx+g.x01,g.cy+g.y01),G<N?c.arc(g.cx,g.cy,G,x(g.y01,g.x01),x(_.y01,_.x01),!d):(c.arc(g.cx,g.cy,G,x(g.y01,g.x01),x(g.y11,g.x11),!d),c.arc(0,0,l,x(g.cy+g.y11,g.cx+g.x11),x(_.cy+_.y11,_.cx+_.x11),d),c.arc(_.cx,_.cy,G,x(_.y11,_.x11),x(_.y01,_.x01),!d))):c.arc(0,0,l,C,k,d):c.lineTo(Q,Y)}else c.moveTo(0,0);if(c.closePath(),u)return c=null,u+""||null}return u.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,a=(+r.apply(this,arguments)+ +i.apply(this,arguments))/2-A/2;return[v(a)*e,M(a)*e]},u.innerRadius=function(n){return arguments.length?(t="function"===typeof n?n:p(+n),u):t},u.outerRadius=function(t){return arguments.length?(n="function"===typeof t?t:p(+t),u):n},u.cornerRadius=function(t){return arguments.length?(e="function"===typeof t?t:p(+t),u):e},u.padRadius=function(t){return arguments.length?(a=null==t?null:"function"===typeof t?t:p(+t),u):a},u.startAngle=function(t){return arguments.length?(r="function"===typeof t?t:p(+t),u):r},u.endAngle=function(t){return arguments.length?(i="function"===typeof t?t:p(+t),u):i},u.padAngle=function(t){return arguments.length?(o="function"===typeof t?t:p(+t),u):o},u.context=function(t){return arguments.length?(c=null==t?null:t,u):c},u}().padAngle(P).outerRadius(ot).innerRadius(F);return{path:e(t),centroid:e.centroid(t),segment:T[n]}})),mt=Object(r.useCallback)((function(){ft.current=!1;var t=function(t){var n=t.location,e=t.numOfSegments,a=t.angleOfSegment,r=360-Math.floor(n%360),i=Math.floor(r/a);return i>=e?0:i}({location:yt.current,numOfSegments:st,angleOfSegment:lt});nt(T[t])}),[lt,st,nt,T]),xt=Object(r.useCallback)((function(){var t=Z({minSpin:X,maxSpin:tt,numOfSegments:st,location:yt.current});yt.current=t,ft.current=!0,l.a.timing(pt,{toValue:t,duration:Y,easing:h.a.inOut(h.a.sin),useNativeDriver:!0}).start(mt)}),[pt,tt,X,st,mt,Y]),vt=Object(r.useCallback)((function(){ft.current||xt()}),[xt]),_t=Object(r.useCallback)((function(t){var n={toValue:t,duration:K,useNativeDriver:!0};l.a.timing(dt,n).start((function(){return _t(1===t?-1:1)}))}),[K,dt]);return Object(r.useEffect)((function(){k||_t(1)}),[_t,k]),i.a.createElement(f.a,{onPress:vt},i.a.createElement(l.a.View,{style:Object(u.a)({transform:[{translateY:dt.interpolate({inputRange:[-1,0,1],outputRange:[-10,0,-10]})}],backgroundColor:rt,width:e,height:e,borderRadius:e,alignItems:"center",marginTop:ut},at(3))},i.a.createElement(W.a,{style:Object(u.a)({marginTop:-ut,position:"absolute",width:ct,height:ct},at(6))},i.a.createElement(J.Polygon,{fill:et.light,points:"".concat(ct/2,",0 ").concat(.85*ct,",").concat(ct/3," ").concat(ct/2,",").concat(ct," ").concat(.15*ct,",").concat(ct/3,","),stroke:et.secondary,strokeWidth:.2})),i.a.createElement(l.a.View,{style:{width:e,height:e,transform:[{rotate:pt.interpolate({inputRange:[-360,0,360],outputRange:["-360deg","0deg","360deg"]})}]}},i.a.createElement(W.a,{style:{transform:[{rotate:"-".concat(ht,"deg")}]}},i.a.createElement(J.G,{x:ot,y:ot},gt.map((function(t,n){return i.a.createElement(J.G,{key:"arc-".concat(n)},i.a.createElement(J.Path,{d:String(t.path),fill:t.segment.color}),i.a.createElement(J.G,{origin:"".concat(t.centroid),rotation:360*n/T.length+ht},i.a.createElement(J.Text,{fill:it,fontSize:R,textAnchor:"middle",x:t.centroid[0],y:t.centroid[1]-ut/2},t.segment.display)))})))))))}));n.default=Object(r.memo)((function(){var t=function(){var t=Object(c.a)();return Object(r.useMemo)((function(){return[{display:"1",value:"1",color:t.primary},{display:"2",value:"2",color:t.info},{display:"3",value:"3",color:t.danger},{display:"4",value:"4",color:t.brand},{display:"5",value:"5",color:t.warning},{display:"6",value:"6",color:t.success},{display:"7",value:"7",color:t.secondary}]}),[t.brand,t.danger,t.info,t.primary,t.secondary,t.success,t.warning])}(),n=Object(c.d)(),e=Object(r.useState)(null),u=Object(a.a)(e,2),s=u[0],l=u[1],h=Object(r.useCallback)((function(t){l(t.display)}),[]),f=Object(r.useCallback)(n("playground"),[n]);return i.a.createElement(o.j,{onLeftPress:f,title:"FortuneWheel"},i.a.createElement(B,{onComplete:h,segments:t}),i.a.createElement(o.m,{center:!0,title:String(s)}))}))}}]);
//# sourceMappingURL=39.c51fe0f6.chunk.js.map