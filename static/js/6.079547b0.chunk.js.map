{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toArray.js","apps/Debug/screens/Stopwatch/index.tsx"],"names":["_iterableToArray","iter","Symbol","iterator","Object","prototype","toString","call","Array","from","_toConsumableArray","arr","isArray","i","arr2","length","iterableToArray","TypeError","_toArray","arrayWithHoles","nonIterableRest","styles","StyleSheet","create","button","alignItems","borderRadius","height","justifyContent","width","buttonBorder","borderWidth","buttonTitle","fontSize","buttonsRow","alignSelf","flexDirection","marginBottom","marginTop","container","backgroundColor","flex","paddingHorizontal","paddingTop","fastest","color","lap","borderColor","borderTopWidth","paddingVertical","lapText","fontFamily","scrollView","slowest","timer","fontWeight","timerContainer","Timer","interval","style","pad","n","minutes","Math","floor","seconds","milliseconds","View","Text","substr","RoundButton","title","background","onPress","disabled","TouchableOpacity","activeOpacity","Lap","num","lapStyle","LapsTable","laps","finishedLaps","slice","min","Number","MAX_SAFE_INTEGER","max","MIN_SAFE_INTEGER","forEach","ScrollView","map","index","key","ButtonsRow","children","Container","state","now","start","Date","getTime","setState","run","timestamp","firstLap","other","stop","clearInterval","reset","setInterval","resume","nav","to","props","navigate","this","onLeftPress","reduce","total","curr","React","PureComponent","mapDispatchToProps","connect"],"mappings":"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","file":"static/js/6.079547b0.chunk.js","sourcesContent":["export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || nonIterableRest();\n}","import React from \"react\";\nimport {\n  ScrollView,\n  StyleProp,\n  StyleSheet,\n  Text,\n  TextStyle,\n  TouchableOpacity,\n  View\n} from \"react-native\";\nimport { connect } from \"react-redux\";\nimport { Screen } from \"../../../../components\";\nimport { NavigationScreen, navigate } from \"../../../../models\";\n\nconst styles = StyleSheet.create({\n  button: {\n    alignItems: \"center\",\n    borderRadius: 40,\n    height: 80,\n    justifyContent: \"center\",\n    width: 80\n  },\n  buttonBorder: {\n    alignItems: \"center\",\n    borderRadius: 38,\n    borderWidth: 1,\n    height: 76,\n    justifyContent: \"center\",\n    width: 76\n  },\n  buttonTitle: {\n    fontSize: 18\n  },\n  buttonsRow: {\n    alignSelf: \"stretch\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    marginBottom: 30,\n    marginTop: 80\n  },\n  container: {\n    alignItems: \"center\",\n    backgroundColor: \"#0D0D0D\",\n    flex: 1,\n    paddingHorizontal: 20,\n    paddingTop: 130\n  },\n  fastest: {\n    color: \"#4BC05F\"\n  },\n  lap: {\n    borderColor: \"#151515\",\n    borderTopWidth: 1,\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    paddingVertical: 10\n  },\n  lapText: {\n    color: \"#FFFFFF\",\n    fontFamily: \"Courier\",\n    fontSize: 18\n  },\n  scrollView: {\n    alignSelf: \"stretch\"\n  },\n  slowest: {\n    color: \"#CC3531\"\n  },\n  timer: {\n    color: \"#FFFFFF\",\n    fontFamily: \"Courier\",\n    fontSize: 54,\n    fontWeight: \"200\"\n  },\n  timerContainer: {\n    flexDirection: \"row\"\n  }\n});\n\ninterface TimerProps {\n  interval: number;\n  style: StyleProp<TextStyle>;\n}\n\nfunction Timer({ interval, style }: TimerProps) {\n  const pad = (n: number): string =>\n    (n < 10 ? \"0\" + n.toString() : n).toString();\n  const minutes = Math.floor(interval / 60000);\n  const seconds = Math.floor(interval % 60000 / 1000);\n  const milliseconds = Math.floor(interval % 60000 % 1000);\n  return (\n    <View style={styles.timerContainer}>\n      <Text style={style}>{pad(minutes)}:</Text>\n      <Text style={style}>{pad(seconds)}.</Text>\n      <Text style={style}>{pad(milliseconds).substr(0, 2)}</Text>\n    </View>\n  );\n}\n\ninterface RoundButtonProps {\n  title: string;\n  color: string;\n  background: string;\n  disabled?: boolean;\n  onPress(): void;\n}\n\nfunction RoundButton({\n  title,\n  color,\n  background,\n  onPress,\n  disabled = false\n}: RoundButtonProps) {\n  return (\n    <TouchableOpacity\n      onPress={() => !disabled && onPress()}\n      style={[styles.button, { backgroundColor: background }]}\n      activeOpacity={disabled ? 1.0 : 0.7}\n    >\n      <View style={styles.buttonBorder}>\n        <Text style={[styles.buttonTitle, { color }]}>{title}</Text>\n      </View>\n    </TouchableOpacity>\n  );\n}\n\ninterface LapProps {\n  num: number;\n  interval: number;\n  fastest: boolean;\n  slowest: boolean;\n}\n\nfunction Lap({ num, interval, fastest, slowest }: LapProps) {\n  const lapStyle = [\n    styles.lapText,\n    fastest && styles.fastest,\n    slowest && styles.slowest\n  ];\n  return (\n    <View style={styles.lap}>\n      <Text style={lapStyle}>Lap {num}</Text>\n      <Timer style={lapStyle} interval={interval} />\n    </View>\n  );\n}\n\ninterface LapTableProps {\n  laps: number[];\n  timer: number;\n}\n\nfunction LapsTable({ laps, timer }: LapTableProps) {\n  const finishedLaps = laps.slice(1);\n  let min = Number.MAX_SAFE_INTEGER;\n  let max = Number.MIN_SAFE_INTEGER;\n  if (finishedLaps.length >= 2) {\n    finishedLaps.forEach(lap => {\n      if (lap < min) {\n        min = lap;\n      }\n      if (lap > max) {\n        max = lap;\n      }\n    });\n  }\n  return (\n    <ScrollView style={styles.scrollView}>\n      {laps.map((lap, index) => \n        <Lap\n          num={laps.length - index}\n          key={laps.length - index}\n          interval={index === 0 ? timer + lap : lap}\n          fastest={lap === min}\n          slowest={lap === max}\n        />\n      )}\n    </ScrollView>\n  );\n}\n\ninterface ButtonRowProps {\n  children: React.ReactElement | React.ReactElement[];\n}\n\nfunction ButtonsRow({ children }: ButtonRowProps) {\n  return <View style={styles.buttonsRow}>{children}</View>;\n}\n\ninterface DispatchProps {\n  navigate: typeof navigate;\n}\n\ntype Props = DispatchProps;\n\nclass Container extends React.PureComponent<Props> {\n  public state = {\n    laps: [],\n    now: 0,\n    start: 0\n  };\n  public timer?: any;\n\n  public componentWillUnmount() {\n    clearInterval(this.timer);\n  }\n\n  public start = () => {\n    const now = new Date().getTime();\n    this.setState({\n      laps: [0],\n      now,\n      start: now\n    });\n    this.run();\n  };\n\n  public lap = () => {\n    const timestamp = new Date().getTime();\n    const { laps, now, start } = this.state;\n    const [firstLap, ...other] = laps;\n    this.setState({\n      laps: [0, firstLap + now - start, ...other],\n      now: timestamp,\n      start: timestamp\n    });\n  };\n\n  public stop = () => {\n    clearInterval(this.timer);\n    const { laps, now, start } = this.state;\n    const [firstLap, ...other] = laps;\n    this.setState({\n      laps: [firstLap + now - start, ...other],\n      now: 0,\n      start: 0\n    });\n  };\n\n  public reset = () => {\n    this.setState({\n      laps: [],\n      now: 0,\n      start: 0\n    });\n  };\n\n  public run = () => {\n    this.timer = setInterval(() => {\n      this.setState({ now: new Date().getTime() });\n    }, 100);\n  };\n\n  public resume = () => {\n    const now = new Date().getTime();\n    this.setState({\n      now,\n      start: now\n    });\n    this.run();\n  };\n\n  public render() {\n    const { now, start, laps } = this.state;\n    const timer = now - start;\n    return (\n      <Screen onLeftPress={this.nav(\"debug\")} style={styles.container}>\n        <Timer\n          interval={laps.reduce((total, curr) => total + curr, 0) + timer}\n          style={styles.timer}\n        />\n        {laps.length === 0 && \n          <ButtonsRow>\n            <RoundButton\n              title=\"Lap\"\n              color=\"#8B8B90\"\n              background=\"#151515\"\n              onPress={this.lap}\n              disabled\n            />\n            <RoundButton\n              title=\"Start\"\n              color=\"#50D167\"\n              background=\"#1B361F\"\n              onPress={this.start}\n            />\n          </ButtonsRow>\n        }\n        {start > 0 && \n          <ButtonsRow>\n            <RoundButton\n              title=\"Lap\"\n              color=\"#FFFFFF\"\n              background=\"#3D3D3D\"\n              onPress={this.lap}\n            />\n            <RoundButton\n              title=\"Stop\"\n              color=\"#E33935\"\n              background=\"#3C1715\"\n              onPress={this.stop}\n            />\n          </ButtonsRow>\n        }\n        {laps.length > 0 && start === 0 && \n          <ButtonsRow>\n            <RoundButton\n              title=\"Reset\"\n              color=\"#FFFFFF\"\n              background=\"#3D3D3D\"\n              onPress={this.reset}\n            />\n            <RoundButton\n              title=\"Start\"\n              color=\"#50D167\"\n              background=\"#1B361F\"\n              onPress={this.resume}\n            />\n          </ButtonsRow>\n        }\n        <LapsTable laps={laps} timer={timer} />\n      </Screen>\n    );\n  }\n\n  private nav = (to: NavigationScreen) => () => this.props.navigate(to);\n}\n\nconst mapDispatchToProps: DispatchProps = { navigate };\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(Container);\n"],"sourceRoot":""}