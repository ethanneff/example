(this.webpackJsonpexample=this.webpackJsonpexample||[]).push([[36],{286:function(e,t,a){"use strict";a.r(t);var r=a(182),c=a(250),n=a(0),o=a.n(n),s=a(7),l=a(181),i=a(41),u=Object(n.memo)((function(e){var t=e.children,a=e.onLayout,r=Object(i.a)();return o.a.createElement(s.a,{onLayout:a,style:{flex:1,backgroundColor:r.surface}},t)})),b=a(3),d=a(178),m=a(248),h=a(187),y={tracks:[],color:"lightgrey"},O=function(e,t){switch(t.type){case"addColor":return Object(b.a)({},e,{color:t.payload});case"addTrack":for(var a=Object(h.a)(e.tracks);a.length>10;)a.pop();return Object(b.a)({},e,{tracks:[Object(b.a)({},t.payload,{color:e.color})].concat(Object(h.a)(a))});default:return e}},j=Object(n.createContext)({state:y,dispatch:function(){}}),f=Object(n.memo)((function(e){var t=e.canvas,a=Object(n.useRef)({x:t.width/2-30,y:t.height/2-30}),r=new d.a.ValueXY(a.current),c=Object(i.c)(),s=Object(n.useContext)(j).dispatch,l=Object(i.a)(),u=Object(n.useCallback)((function(e,n){var o=function(e){var t=e.current.x-e.change.dx,a=e.current.y+e.change.dy,r=a<0?0:a+e.size>e.canvas.height?e.canvas.height-e.size:a;return{x:t<0?0:t+e.size>e.canvas.width?e.canvas.width-e.size:t,y:r}}({canvas:t,change:{dx:6*e,dy:6*n},current:a.current,size:30});a.current=o,s({type:"addTrack",payload:Object(b.a)({},o,{size:30})}),d.a.spring(r,{toValue:o,useNativeDriver:c}).start()}),[t,s,r,c]);return Object(n.useEffect)((function(){Object(m.c)(m.a.accelerometer,16);var e=m.b.subscribe((function(e){var t=e.x,a=e.y;return u(t,a)}));return function(){e.unsubscribe()}}),[16,u]),o.a.createElement(d.a.View,{style:[r.getLayout(),{width:30,height:30,borderRadius:30,elevation:5,shadowColor:l.text,shadowOffset:{height:2,width:0},shadowOpacity:.3,shadowRadius:3,zIndex:5,backgroundColor:l.primary}]})})),g=a(8),p=Object(n.memo)((function(e){var t=e.track,a=t.size/4,r=g.a.create({tracks:{backgroundColor:t.color,borderRadius:t.size,height:a,opacity:.4,position:"absolute",width:a}});return o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{style:Object(b.a)({},r.tracks,{top:t.y-t.size/2-a/2,left:t.x+t.size/2-t.size/2})}),o.a.createElement(s.a,{style:Object(b.a)({},r.tracks,{top:t.y-t.size/2-a/2,left:t.x+t.size/2+t.size/2-a})}))})),v=Object(n.memo)((function(){var e=Object(n.useContext)(j).state;return(o.a.createElement(o.a.Fragment,null,e.tracks.map((function(e,t){return o.a.createElement(p,{key:"".concat(e.x).concat(e.y).concat(t),track:e})}))))})),E=Object(n.memo)((function(){var e=Object(n.useState)(null),t=Object(r.a)(e,2),a=t[0],c=t[1],s=Object(n.useCallback)((function(e){var t=e.nativeEvent.layout,a=t.x,r=t.y,n=t.height,o=t.width;c({x:a,y:r,height:n,width:o})}),[]);return o.a.createElement(u,{onLayout:s},a&&o.a.createElement(o.a.Fragment,null,o.a.createElement(f,{canvas:a}),o.a.createElement(v,null)))})),k=Object(n.memo)((function(){var e=Object(i.b)(),t=Object(n.useContext)(j).dispatch,a=Object(i.a)(),r={width:50,height:50},c=Object(n.useCallback)((function(e){return function(){return t({type:"addColor",payload:e})}}),[t]);return o.a.createElement(s.a,{style:{position:"absolute",bottom:50,right:50,transform:[{rotate:"45deg"}]}},o.a.createElement(s.a,{style:{flexDirection:"row"}},o.a.createElement(l.o,{onPress:c("violet"),style:Object(b.a)({},r,{backgroundColor:a.info,borderTopLeftRadius:50},e(10))}),o.a.createElement(l.o,{onPress:c("mediumseagreen"),style:Object(b.a)({},r,{backgroundColor:a.success,borderTopRightRadius:50},e(10))})),o.a.createElement(s.a,{style:{flexDirection:"row"}},o.a.createElement(l.o,{onPress:c("slateblue"),style:Object(b.a)({},r,{backgroundColor:a.primary,borderBottomLeftRadius:50},e(10))}),o.a.createElement(l.o,{onPress:c("orange"),style:Object(b.a)({},r,{backgroundColor:a.warning,borderBottomRightRadius:50},e(10))})))}));t.default=Object(n.memo)((function(){var e=Object(i.d)(),t=Object(n.useReducer)(O,y),a=Object(r.a)(t,2),u=a[0],b=a[1],d=c.a.isEmulatorSync(),m=Object(n.useCallback)(e("playground"),[e]);return o.a.createElement(l.j,{border:!0,onLeftPress:m,title:"Drift"},o.a.createElement(j.Provider,{value:{state:u,dispatch:b}},d?o.a.createElement(l.m,{center:!0,title:"simulators not supported"}):o.a.createElement(s.a,{style:{flex:1}},o.a.createElement(E,null),o.a.createElement(k,null))))}))}}]);
//# sourceMappingURL=36.618c80a0.chunk.js.map