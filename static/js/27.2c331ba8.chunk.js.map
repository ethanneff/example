{"version":3,"sources":["apps/Debug/screens/Questionnaire/screens/Questionnaires.tsx","apps/Debug/screens/Questionnaire/index.tsx"],"names":["mapDispatchToProps","createQuestionnaire","removeQuestionnaire","selectQuestionnaire","updateQuestionnaire","Questionnaires","connect","state","questionnaires","getQuestionnaireArray","selected","props","useState","actionSheet","setActionSheet","handleLongPress","id","handleItemMenu","FlatList","keyExtractor","item","data","extraData","renderItem","length","questions","subtitle","onPress","onLongPress","View","style","flexDirection","justifyContent","flex","h3","title","caption","icon","neutral","fab","contained","right","dropShadow","String","Date","now","onBackgroundPress","Container","choices","key","next","type","output","width","Dimensions","get","tableView","currentIndex","onViewableItemsChanged","viewableItems","index","onProgress","direction","onFinish","scrollToIndex","animated","onSelection","choice","setRef","ref","nav","to","navigate","onLeftPress","this","scrollEnabled","removeClippedSubviews","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","viewabilityConfig","itemVisiblePercentThreshold","horizontal","pagingEnabled","items","map","React","PureComponent"],"mappings":"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","file":"static/js/27.2c331ba8.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { FlatList, View } from \"react-native\";\nimport { connect } from \"react-redux\";\nimport { Button, Card, Dialog, Text } from \"../../../../../components\";\nimport { RootState } from \"../../../../../containers\";\nimport {\n  Questionnaire,\n  createQuestionnaire,\n  getQuestionnaireArray,\n  removeQuestionnaire,\n  selectQuestionnaire,\n  updateQuestionnaire\n} from \"../models\";\n\ninterface StateProps {\n  questionnaires: Questionnaire[];\n  selected?: string;\n}\ninterface DispatchProps {\n  removeQuestionnaire: typeof removeQuestionnaire;\n  selectQuestionnaire: typeof selectQuestionnaire;\n  updateQuestionnaire: typeof updateQuestionnaire;\n  createQuestionnaire: typeof createQuestionnaire;\n}\ntype Props = StateProps & DispatchProps;\n\nconst Container = (props: Props) => {\n  const [actionSheet, setActionSheet] = useState(false);\n  const handleLongPress = (id: string) => () => props.removeQuestionnaire(id);\n  const handleItemPress = (id: string) => () => props.selectQuestionnaire(id);\n  const handleActionSheetClose = () => setActionSheet(false);\n  const handleCreate = () => props.createQuestionnaire(String(Date.now()));\n  const handleItemMenu = () => {\n    setActionSheet(state => !state);\n  };\n  return (\n    <>\n      <FlatList\n        keyExtractor={item => item.id}\n        data={props.questionnaires}\n        extraData={props.selected}\n        renderItem={({ item }) => {\n          const length = item.questions.length;\n          const subtitle = `${length} question${length === 1 ? \"\" : \"s\"}`;\n          return (\n            <Card\n              onPress={handleItemPress(item.id)}\n              onLongPress={handleLongPress(item.id)}\n              selected={props.selected === item.id}\n            >\n              <View\n                style={{\n                  flexDirection: \"row\",\n                  justifyContent: \"space-between\"\n                }}\n              >\n                <View style={{ flex: 0.9 }}>\n                  <Text h3 title={item.title} />\n                  <Text caption title={subtitle} />\n                </View>\n                <Button\n                  icon=\"dots-horizontal\"\n                  neutral\n                  onPress={handleItemMenu}\n                />\n              </View>\n            </Card>\n          );\n        }}\n      />\n      <Button\n        icon=\"plus\"\n        fab\n        contained\n        right\n        dropShadow\n        onPress={handleCreate}\n      />\n      {actionSheet && \n        <Dialog title=\"hello\" onBackgroundPress={handleActionSheetClose} />\n      }\n    </>\n  );\n};\n\nconst mapStateToProps = (state: RootState): StateProps => ({\n  questionnaires: getQuestionnaireArray(state),\n  selected: state.questionnaires.selected\n});\n\nconst mapDispatchToProps: DispatchProps = {\n  createQuestionnaire,\n  removeQuestionnaire,\n  selectQuestionnaire,\n  updateQuestionnaire\n};\n\nexport const Questionnaires = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Container);\n","import React from \"react\";\nimport { Dimensions, FlatList, View } from \"react-native\";\nimport { connect } from \"react-redux\";\nimport { Button, Screen, Text } from \"../../../../components\";\nimport { NavigationScreen, navigate } from \"../../../../models\";\nimport { Questionnaires } from \"./screens/Questionnaires\";\n\ninterface DispatchProps {\n  navigate: typeof navigate;\n}\n\ntype Props = DispatchProps;\n\nclass Container extends React.PureComponent<Props> {\n  private readonly data = [\n    {\n      choices: [\n        {\n          key: \"1\",\n          selected: false,\n          title: \"individual\"\n        },\n        {\n          key: \"2\",\n          selected: false,\n          title: \"couple\"\n        },\n        {\n          key: \"3\",\n          selected: false,\n          title: \"teen\"\n        }\n      ],\n      key: \"1\",\n      next: \"2\",\n      title: \"What type of counseling are you looking for\",\n      type: \"radio\"\n    },\n    { key: \"2\", title: \"2\" },\n    { key: \"3\", title: \"3\" },\n    { key: \"4\", title: \"4\" },\n    { key: \"5\", title: \"5\" }\n  ];\n  private output: any = {};\n  private readonly width = Dimensions.get(\"window\").width;\n  private tableView: any;\n  private currentIndex = 0;\n\n  public onViewableItemsChanged = ({ viewableItems }: any) => {\n    this.currentIndex = viewableItems[0].index || 0;\n  };\n\n  public onProgress = (direction = 1) => {\n    const index = this.currentIndex + direction;\n    if (index < 0) {\n      return;\n    }\n    if (index >= this.data.length) {\n      this.onFinish();\n      return;\n    }\n    this.tableView.scrollToIndex({\n      animated: true,\n      index\n    });\n  };\n\n  public onSelection = (item: any, choice: any) => {\n    this.output = {\n      ...this.output,\n      [item.key]: {\n        ...this.output[item.key],\n        [choice.key]: true\n      }\n    };\n\n    // this.onProgress();\n  };\n\n  public onFinish = () => undefined;\n\n  setRef = (ref: any) => {\n    this.tableView = ref;\n  };\n\n  public render() {\n    return (\n      <Screen onLeftPress={this.nav(\"debug\")}>\n        <FlatList\n          scrollEnabled={false}\n          ref={this.setRef}\n          removeClippedSubviews\n          showsHorizontalScrollIndicator={false}\n          showsVerticalScrollIndicator={false}\n          onViewableItemsChanged={this.onViewableItemsChanged}\n          viewabilityConfig={{\n            itemVisiblePercentThreshold: 50\n          }}\n          horizontal\n          pagingEnabled\n          data={this.data}\n          renderItem={({ item }) => {\n            let items: any = <View style={{ flex: 1 }} />;\n\n            if (item.choices) {\n              items = \n                <View style={{ flex: 1 }}>\n                  {item.choices.map(choice => {\n                    return (\n                      <Button\n                        key={choice.title}\n                        title={choice.title}\n                        onPress={() => {\n                          this.onSelection(item, choice);\n                        }}\n                      />\n                    );\n                  })}\n                </View>\n              ;\n            }\n\n            return (\n              <View style={{ width: this.width }}>\n                <Text title={item.title} />\n                {items}\n                <View\n                  style={{\n                    flexDirection: \"row\",\n                    justifyContent: \"space-around\"\n                  }}\n                >\n                  <Button title=\"prev\" onPress={() => this.onProgress(-1)} />\n                  <Button title=\"next\" onPress={() => this.onProgress(1)} />\n                  <Button title=\"next2\" onPress={() => this.onProgress(2)} />\n                </View>\n              </View>\n            );\n          }}\n        />\n        <Questionnaires />\n      </Screen>\n    );\n  }\n  private nav = (to: NavigationScreen) => () => this.props.navigate(to);\n}\n\nconst mapDispatchToProps: DispatchProps = { navigate };\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(Container);\n"],"sourceRoot":""}