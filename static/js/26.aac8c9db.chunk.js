(this.webpackJsonpexample=this.webpackJsonpexample||[]).push([[26],{246:function(e,t,a){"use strict";a.r(t);var r=a(171),c=a(209),n=a(0),o=a.n(n),s=a(170),l=a(41),u=a(7),i=Object(n.memo)((function(e){var t=e.children,a=e.onLayout,r=Object(l.a)();return o.a.createElement(u.a,{onLayout:a,style:{flex:1,backgroundColor:r.surface}},t)})),b=a(3),d=a(176),m={tracks:[],color:"lightgrey"},h=function(e,t){switch(t.type){case"addColor":return Object(b.a)({},e,{color:t.payload});case"addTrack":for(var a=Object(d.a)(e.tracks);a.length>10;)a.pop();return Object(b.a)({},e,{tracks:[Object(b.a)({},t.payload,{color:e.color})].concat(Object(d.a)(a))});default:return e}},y=Object(n.createContext)({state:m,dispatch:function(){}}),f=Object(n.memo)((function(){var e=Object(l.b)(10),t=Object(n.useContext)(y).dispatch,a={width:50,height:50},r=Object(n.useCallback)((function(e){return function(){return t({type:"addColor",payload:e})}}),[t]);return o.a.createElement(u.a,{style:{position:"absolute",bottom:50,right:50,transform:[{rotate:"45deg"}]}},o.a.createElement(u.a,{style:{flexDirection:"row"}},o.a.createElement(s.o,{onPress:r("violet"),style:Object(b.a)({},a,{backgroundColor:"violet",borderTopLeftRadius:50},e)}),o.a.createElement(s.o,{onPress:r("mediumseagreen"),style:Object(b.a)({},a,{backgroundColor:"mediumseagreen",borderTopRightRadius:50},e)})),o.a.createElement(u.a,{style:{flexDirection:"row"}},o.a.createElement(s.o,{onPress:r("slateblue"),style:Object(b.a)({},a,{backgroundColor:"slateblue",borderBottomLeftRadius:50},e)}),o.a.createElement(s.o,{onPress:r("orange"),style:Object(b.a)({},a,{backgroundColor:"orange",borderBottomRightRadius:50},e)})))})),O=a(167),j=a(207),g=Object(n.memo)((function(e){var t=e.canvas,a=Object(n.useRef)({x:t.width/2-30,y:t.height/2-30}),r=new O.a.ValueXY(a.current),c=Object(l.c)(),s=Object(n.useContext)(y).dispatch,u=Object(n.useCallback)((function(e,n){var o=function(e){var t=e.current.x-e.change.dx,a=e.current.y+e.change.dy,r=a<0?0:a+e.size>e.canvas.height?e.canvas.height-e.size:a;return{x:t<0?0:t+e.size>e.canvas.width?e.canvas.width-e.size:t,y:r}}({canvas:t,change:{dx:6*e,dy:6*n},current:a.current,size:30});a.current=o,s({type:"addTrack",payload:Object(b.a)({},o,{size:30})}),O.a.spring(r,{toValue:o,useNativeDriver:c}).start()}),[t,s,r,c]);return Object(n.useEffect)((function(){Object(j.c)(j.a.accelerometer,16);var e=j.b.subscribe((function(e){var t=e.x,a=e.y;return u(t,a)}));return function(){e.unsubscribe()}}),[16,u]),o.a.createElement(O.a.View,{style:[r.getLayout(),{width:30,height:30,borderRadius:30,elevation:5,shadowColor:"black",shadowOffset:{height:2,width:0},shadowOpacity:.3,shadowRadius:3,zIndex:5,backgroundColor:"coral"}]})})),p=a(8),v=Object(n.memo)((function(e){var t=e.track,a=t.size/4,r=p.a.create({tracks:{opacity:.4,borderRadius:t.size,position:"absolute",width:a,height:a,backgroundColor:t.color}});return o.a.createElement(u.a,null,o.a.createElement(u.a,{style:Object(b.a)({},r.tracks,{top:t.y-t.size/2-a/2,left:t.x+t.size/2-t.size/2})}),o.a.createElement(u.a,{style:Object(b.a)({},r.tracks,{top:t.y-t.size/2-a/2,left:t.x+t.size/2+t.size/2-a})}))})),E=Object(n.memo)((function(){var e=Object(n.useContext)(y).state;return o.a.createElement(u.a,null,e.tracks.map((function(e,t){return o.a.createElement(v,{key:"".concat(e.x).concat(e.y).concat(t),track:e})})))})),k=Object(n.memo)((function(){var e=Object(n.useState)(null),t=Object(r.a)(e,2),a=t[0],c=t[1],s=Object(n.useCallback)((function(e){var t=e.nativeEvent.layout,a=t.x,r=t.y,n=t.height,o=t.width;c({x:a,y:r,height:n,width:o})}),[]);return o.a.createElement(u.a,{style:{flex:1}},o.a.createElement(i,{onLayout:s},a&&o.a.createElement(u.a,null,o.a.createElement(g,{canvas:a}),o.a.createElement(E,null))),o.a.createElement(f,null))}));t.default=Object(n.memo)((function(){var e=Object(l.d)(),t=Object(n.useReducer)(h,m),a=Object(r.a)(t,2),u=a[0],i=a[1],b=c.a.isEmulatorSync();return o.a.createElement(s.k,{border:!0,title:"Drift",onLeftPress:e.to("debug")},o.a.createElement(y.Provider,{value:{state:u,dispatch:i}},b?o.a.createElement(s.m,{title:"simulators not supported",center:!0}):o.a.createElement(k,null)))}))}}]);
//# sourceMappingURL=26.aac8c9db.chunk.js.map