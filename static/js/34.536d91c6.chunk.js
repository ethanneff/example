(this.webpackJsonpexample=this.webpackJsonpexample||[]).push([[34],{292:function(e,t,a){"use strict";a.r(t);var n=a(182),i=a(0),r=a.n(i),d=a(181),o=a(41),u=a(8),c=a(7),s=Object(i.memo)((function(e){var t=e.children,a=e.onLayout,n=Object(o.a)(),i=u.a.create({container:{backgroundColor:n.surface,flex:1}});return r.a.createElement(c.a,{onLayout:a,style:i.container},t)})),x=a(3),y=a(187),m=a(178),l=a(4),h=function(e,t,a){return{x:e*Math.cos(a)-t*Math.sin(a),y:e*Math.sin(a)+t*Math.cos(a)}},v=function(e,t,a){var n=e.dx-t.dx,i=e.dy-t.dy;if(n*(t.x-e.x)+i*(t.y-e.y)>=0){var r=-Math.atan2(t.y-e.y,t.x-e.x),d=e.mass,o=t.mass,u=h(e.dx,e.dy,r),c=h(t.dx,t.dy,r),s={dx:u.x*(d-o)/(d+o)+2*c.x*o/(d+o),dy:u.y},x={dx:c.x*(d-o)/(d+o)+2*u.x*d/(d+o),dy:c.y},y=h(s.dx,s.dy,-r),m=h(x.dx,x.dy,-r);e.dx=Math.min(y.x,a),e.dy=Math.min(y.y,a),t.dx=Math.min(m.x,a),t.dy=Math.min(m.y,a)}},f=function(e,t,a,n,i,r,d){var o=d?e+a-(n+r):e-n,u=d?t+a-(i+r):t-i,c=a+r;return Math.sqrt(o*o+u*u)<=c},b=function(e,t){return Math.random()*(t-e)+e},p=function(e,t){e.x<=t.x&&(e.dx=-e.dx,e.x=t.x),e.x+2*e.radius>=t.x+t.width&&(e.dx=-e.dx,e.x=t.x+t.width-2*e.radius),e.y<=t.y&&(e.dy=-e.dy,e.y=t.y),e.y+2*e.radius>=t.y+t.height&&(e.dy=-e.dy,e.y=t.y+t.height-2*e.radius)},j=function(e){var t=e.count,a=e.canvas,u=e.minSize,c=void 0===u?50:u,s=e.maxSize,h=void 0===s?50:s,j=e.minSpeed,g=void 0===j?1:j,S=e.maxSpeed,M=void 0===S?5:S,O=e.minMass,w=void 0===O?1:O,E=e.maxMass,z=void 0===E?1:E,k=e.mitosis,C=void 0===k?.1:k,L=Object(o.a)(),F=Object(i.useState)((function(){return function(e){for(var t=e.count,a=e.canvas,n=e.minSize,i=e.maxSize,r=e.minSpeed,d=e.maxSpeed,o=e.minMass,u=e.maxMass,c=[],s=0;s<t;s++){var x=b(n,i),y=b(o,u),l=b(-r,d),h=b(-r,d),v=b(a.x,a.x+a.width-x),p=b(a.x,a.x+a.height-x);if(0!==s)for(var j=0;j<c.length;j++){var g=c[j];f(v,p,x,g.x,g.y,g.radius,!1)&&(v=b(a.x,a.x+a.width-x),p=b(a.x,a.x+a.height-x),j=-1)}c.push({index:s,x:v,y:p,dx:l,dy:h,radius:x,mass:y,position:new m.a.ValueXY({x:v,y:p})})}return c}({count:t,canvas:a,minSize:c,maxSize:h,minSpeed:g,maxSpeed:M,minMass:w,maxMass:z})})),I=Object(n.a)(F,2),V=I[0],B=I[1],J=Object(i.useCallback)((function(){B((function(e){for(var t=0;t<e.length;t++){for(var n=e[t],i=t+1;i<e.length;i++){var r=e[i];f(n.x,n.y,n.radius,r.x,r.y,r.radius,!0)&&v(n,r,1.5*M)}p(n,a),n.x+=n.dx,n.y+=n.dy,n.position=new m.a.ValueXY({x:n.x,y:n.y})}return Object(y.a)(e)}))}),[a,M]);Object(i.useEffect)((function(){var e=setInterval(J);return function(){return clearInterval(e)}}),[J]);var P=Object(i.useCallback)((function(e){var t=e.index;return function(){B((function(e){var a=e[t];a.radius*=1-C,a.dx*=2-C,a.dy*=2-C;var n=Object(x.a)({},e[t]);return n.dx*=-1,n.dy*=-1,[].concat(Object(y.a)(e),[n])}))}}),[C]);return(r.a.createElement(r.a.Fragment,null,V.map((function(e,t){return r.a.createElement(m.a.View,{key:t,style:e.position.getLayout()},r.a.createElement(d.o,{onPress:P({index:t}),style:{alignItems:"center",borderColor:L.primary,borderWidth:1,borderRadius:e.radius,flex:1,padding:l.c.padding.p01,height:2*e.radius,justifyContent:"center",position:"absolute",width:2*e.radius}},r.a.createElement(d.m,{adjustsFontSizeToFit:!0,title:String(t),type:"h3"})))}))))};t.default=Object(i.memo)((function(){var e=Object(o.d)(),t=Object(i.useState)(null),a=Object(n.a)(t,2),u=a[0],c=a[1],x=Object(i.useCallback)((function(e){var t=e.nativeEvent.layout,a=t.x,n=t.y,i=t.height,r=t.width;c({x:a,y:n,height:i,width:r})}),[]),y=Object(i.useCallback)(e("playground"),[e]);return r.a.createElement(d.j,{onLeftPress:y,title:"BouncingBalls"},r.a.createElement(s,{onLayout:x},u&&r.a.createElement(j,{canvas:u,count:1,maxSize:u.width/6,minSize:u.width/6})))}))}}]);
//# sourceMappingURL=34.536d91c6.chunk.js.map