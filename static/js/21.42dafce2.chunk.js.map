{"version":3,"sources":["apps/Checklists/screens/ItemUpdate/index.tsx"],"names":["memo","nav","useNav","dispatch","useRootDispatch","item","useRootSelector","getCurrentChecklistItem","useState","name","description","form","setForm","isInvalidForm","trim","length","gutter","onLeftPress","to","title","onChangeText","state","value","onPress","now","Date","updateChecklistItem","updatedAt","navigate","color","removeChecklistItem","id"],"mappings":"wLAWeA,0BAAK,WAClB,IAAMC,EAAMC,cACNC,EAAWC,cACXC,EAAOC,YAAgBC,KAHgB,EAIrBC,mBAAS,CAC/BC,KAAMJ,EAAKI,KACXC,YAAaL,EAAKK,aAAe,KANU,mBAItCC,EAJsC,KAIhCC,EAJgC,KAQvCC,EAA4C,IAA5BF,EAAKF,KAAKK,OAAOC,OA2BvC,OACE,kBAAC,IAAD,CACEC,QAAM,EACNC,YAAahB,EAAIiB,GAAG,kBACpBC,MAAM,yBACN,kBAAC,IAAD,CACEC,aA/BmB,SAACX,GAAD,OACvBG,GAAQ,SAACS,GAAD,sBAAgBA,EAAhB,CAAuBZ,aA+B3BU,MAAM,OACNG,MAAOX,EAAKF,OAEd,kBAAC,IAAD,CACEW,aAlC0B,SAACV,GAAD,OAC9BE,GAAQ,SAACS,GAAD,sBAAgBA,EAAhB,CAAuBX,oBAkC3BS,MAAM,cACNG,MAAOX,EAAKD,cAEd,kBAAC,IAAD,CAAQa,QApCS,WAAO,IACnBd,EAAqBE,EAArBF,KAAMC,EAAeC,EAAfD,YACPc,EAAMC,KAAKD,MACbX,IAGJV,EACEuB,YAAoB,eACfrB,EADc,CAEjBI,OACAC,cACAiB,UAAWH,MAGfrB,EAASyB,YAAS,qBAsBeT,MAAM,WACrC,kBAAC,IAAD,CAAQU,MAAM,SAASN,QArBN,WACnBpB,EAAS2B,YAAoBzB,EAAK0B,KAClC5B,EAASyB,YAAS,oBAmB8BT,MAAM","file":"static/js/21.42dafce2.chunk.js","sourcesContent":["import React, {memo, useState} from 'react';\nimport {Button, Screen, TextInput} from '../../../../components';\nimport {\n  getCurrentChecklistItem,\n  removeChecklistItem,\n  updateChecklistItem,\n} from '../../models';\nimport {useNav} from '../../../../hooks';\nimport {useRootDispatch, useRootSelector} from '../../../../utils';\nimport {navigate} from '../../../../models';\n\nexport default memo(function ChecklistUpdate() {\n  const nav = useNav();\n  const dispatch = useRootDispatch();\n  const item = useRootSelector(getCurrentChecklistItem);\n  const [form, setForm] = useState({\n    name: item.name,\n    description: item.description || '',\n  });\n  const isInvalidForm = form.name.trim().length === 0;\n\n  const handleNameChange = (name: string) =>\n    setForm((state) => ({...state, name}));\n  const handleDescriptionChange = (description: string) =>\n    setForm((state) => ({...state, description}));\n  const handleSubmit = () => {\n    const {name, description} = form;\n    const now = Date.now();\n    if (isInvalidForm) {\n      return;\n    }\n    dispatch(\n      updateChecklistItem({\n        ...item,\n        name,\n        description,\n        updatedAt: now,\n      }),\n    );\n    dispatch(navigate('checklistsList'));\n  };\n  const handleDelete = () => {\n    dispatch(removeChecklistItem(item.id));\n    dispatch(navigate('checklistsList'));\n  };\n\n  return (\n    <Screen\n      gutter\n      onLeftPress={nav.to('checklistsList')}\n      title=\"Update Checklist Item\">\n      <TextInput\n        onChangeText={handleNameChange}\n        title=\"name\"\n        value={form.name}\n      />\n      <TextInput\n        onChangeText={handleDescriptionChange}\n        title=\"description\"\n        value={form.description}\n      />\n      <Button onPress={handleSubmit} title=\"update\" />\n      <Button color=\"danger\" onPress={handleDelete} title=\"delete\" />\n    </Screen>\n  );\n});\n"],"sourceRoot":""}