(this.webpackJsonpexample=this.webpackJsonpexample||[]).push([[39],{286:function(t,n,e){"use strict";e.r(n);var a=e(182),r=e(0),i=e.n(r),o=e(181),c=e(41),u=e(3),s=e(44),l=e(178),h=e(199),f=e(193),y=function(t){return function(){return t}},p=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},d=function(t){return t},g=Math.abs,m=Math.atan2,x=Math.cos,v=Math.max,_=Math.min,b=Math.sin,M=Math.sqrt,O=Math.PI,j=O/2,A=2*O;function S(t){return t>1?0:t<-1?O:Math.acos(t)}function w(t){return t>=1?j:t<=-1?-j:Math.asin(t)}var E=Math.PI,R=2*E,T=R-1e-6;function k(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function C(){return new k}k.prototype=C.prototype={constructor:k,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,a){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+a)},bezierCurveTo:function(t,n,e,a,r,i){this._+="C"+ +t+","+ +n+","+ +e+","+ +a+","+(this._x1=+r)+","+(this._y1=+i)},arcTo:function(t,n,e,a,r){t=+t,n=+n,e=+e,a=+a,r=+r;var i=this._x1,o=this._y1,c=e-t,u=a-n,s=i-t,l=o-n,h=s*s+l*l;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>1e-6)if(Math.abs(l*c-u*s)>1e-6&&r){var f=e-i,y=a-o,p=c*c+u*u,d=f*f+y*y,g=Math.sqrt(p),m=Math.sqrt(h),x=r*Math.tan((E-Math.acos((p+h-d)/(2*g*m)))/2),v=x/m,_=x/g;Math.abs(v-1)>1e-6&&(this._+="L"+(t+v*s)+","+(n+v*l)),this._+="A"+r+","+r+",0,0,"+ +(l*f>s*y)+","+(this._x1=t+_*c)+","+(this._y1=n+_*u)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,a,r,i){t=+t,n=+n,i=!!i;var o=(e=+e)*Math.cos(a),c=e*Math.sin(a),u=t+o,s=n+c,l=1^i,h=i?a-r:r-a;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+u+","+s:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+u+","+s),e&&(h<0&&(h=h%R+R),h>T?this._+="A"+e+","+e+",0,1,"+l+","+(t-o)+","+(n-c)+"A"+e+","+e+",0,1,"+l+","+(this._x1=u)+","+(this._y1=s):h>1e-6&&(this._+="A"+e+","+e+",0,"+ +(h>=E)+","+l+","+(this._x1=t+e*Math.cos(r))+","+(this._y1=n+e*Math.sin(r))))},rect:function(t,n,e,a){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +a+"h"+-e+"Z"},toString:function(){return this._}};var P=C;function V(t){return t.innerRadius}function L(t){return t.outerRadius}function q(t){return t.startAngle}function z(t){return t.endAngle}function N(t){return t&&t.padAngle}function G(t,n,e,a,r,i,o,c){var u=e-t,s=a-n,l=o-r,h=c-i,f=h*u-l*s;if(!(f*f<1e-12))return[t+(f=(l*(n-i)-h*(t-r))/f)*u,n+f*s]}function I(t,n,e,a,r,i,o){var c=t-e,u=n-a,s=(o?i:-i)/M(c*c+u*u),l=s*u,h=-s*c,f=t+l,y=n+h,p=e+l,d=a+h,g=(f+p)/2,m=(y+d)/2,x=p-f,_=d-y,b=x*x+_*_,O=r-i,j=f*d-p*y,A=(_<0?-1:1)*M(v(0,O*O*b-j*j)),S=(j*_-x*A)/b,w=(-j*x-_*A)/b,E=(j*_+x*A)/b,R=(-j*x+_*A)/b,T=S-g,k=w-m,C=E-g,P=R-m;return T*T+k*k>C*C+P*P&&(S=E,w=R),{cx:S,cy:w,x01:-l,y01:-h,x11:S*(r/O-1),y11:w*(r/O-1)}}var D=e(212),J=e.n(D),W=function(t){var n=t.minSpin,e=t.maxSpin,a=t.numOfSegments;return t.location+360*function(t){var n=t.min,e=t.max;return Math.floor(Math.random()*(e-n)+n)}({min:n,max:e})+360*Math.floor(Math.random()*a)/a},Z=Object(r.memo)((function(t){var n=t.size,e=void 0===n?s.a.get("screen").width:n,a=t.backgroundColor,o=t.textColor,v=t.fontSize,E=void 0===v?24:v,R=t.segments,T=t.noBounce,k=t.padAngle,C=void 0===k?.02:k,Z=t.innerRadius,B=void 0===Z?60:Z,F=t.spinSpeed,Q=void 0===F?1e3:F,Y=t.bounceSpeed,H=void 0===Y?5e3:Y,K=t.minSpin,U=void 0===K?3:K,X=t.maxSpin,$=void 0===X?7:X,tt=t.onComplete,nt=Object(c.a)(),et=Object(c.b)(),at=a||nt.background,rt=o||nt.text,it=e/2,ot=e/8,ct=.6*ot,ut=R.length,st=360/ut,lt=st/2,ht=Object(r.useRef)(!1),ft=Object(r.useRef)(0),yt=new l.a.Value(0),pt=new l.a.Value(-1),dt=function(){var t=d,n=p,e=null,a=y(0),r=y(A),i=y(0);function o(o){var c,u,s,l,h,f=o.length,y=0,p=new Array(f),d=new Array(f),g=+a.apply(this,arguments),m=Math.min(A,Math.max(-A,r.apply(this,arguments)-g)),x=Math.min(Math.abs(m)/f,i.apply(this,arguments)),v=x*(m<0?-1:1);for(c=0;c<f;++c)(h=d[p[c]=c]=+t(o[c],c,o))>0&&(y+=h);for(null!=n?p.sort((function(t,e){return n(d[t],d[e])})):null!=e&&p.sort((function(t,n){return e(o[t],o[n])})),c=0,s=y?(m-f*v)/y:0;c<f;++c,g=l)u=p[c],l=g+((h=d[u])>0?h*s:0)+v,d[u]={data:o[u],index:c,value:h,startAngle:g,endAngle:l,padAngle:x};return d}return o.value=function(n){return arguments.length?(t="function"===typeof n?n:y(+n),o):t},o.sortValues=function(t){return arguments.length?(n=t,e=null,o):n},o.sort=function(t){return arguments.length?(e=t,n=null,o):e},o.startAngle=function(t){return arguments.length?(a="function"===typeof t?t:y(+t),o):a},o.endAngle=function(t){return arguments.length?(r="function"===typeof t?t:y(+t),o):r},o.padAngle=function(t){return arguments.length?(i="function"===typeof t?t:y(+t),o):i},o}()(R.map((function(){return 1}))).map((function(t,n){var e=function(){var t=V,n=L,e=y(0),a=null,r=q,i=z,o=N,c=null;function u(){var u,s,l=+t.apply(this,arguments),h=+n.apply(this,arguments),f=r.apply(this,arguments)-j,y=i.apply(this,arguments)-j,p=g(y-f),d=y>f;if(c||(c=u=P()),h<l&&(s=h,h=l,l=s),h>1e-12)if(p>A-1e-12)c.moveTo(h*x(f),h*b(f)),c.arc(0,0,h,f,y,!d),l>1e-12&&(c.moveTo(l*x(y),l*b(y)),c.arc(0,0,l,y,f,d));else{var v,E,R=f,T=y,k=f,C=y,V=p,L=p,q=o.apply(this,arguments)/2,z=q>1e-12&&(a?+a.apply(this,arguments):M(l*l+h*h)),N=_(g(h-l)/2,+e.apply(this,arguments)),D=N,J=N;if(z>1e-12){var W=w(z/l*b(q)),Z=w(z/h*b(q));(V-=2*W)>1e-12?(k+=W*=d?1:-1,C-=W):(V=0,k=C=(f+y)/2),(L-=2*Z)>1e-12?(R+=Z*=d?1:-1,T-=Z):(L=0,R=T=(f+y)/2)}var B=h*x(R),F=h*b(R),Q=l*x(C),Y=l*b(C);if(N>1e-12){var H,K=h*x(T),U=h*b(T),X=l*x(k),$=l*b(k);if(p<O&&(H=G(B,F,X,$,K,U,Q,Y))){var tt=B-H[0],nt=F-H[1],et=K-H[0],at=U-H[1],rt=1/b(S((tt*et+nt*at)/(M(tt*tt+nt*nt)*M(et*et+at*at)))/2),it=M(H[0]*H[0]+H[1]*H[1]);D=_(N,(l-it)/(rt-1)),J=_(N,(h-it)/(rt+1))}}L>1e-12?J>1e-12?(v=I(X,$,B,F,h,J,d),E=I(K,U,Q,Y,h,J,d),c.moveTo(v.cx+v.x01,v.cy+v.y01),J<N?c.arc(v.cx,v.cy,J,m(v.y01,v.x01),m(E.y01,E.x01),!d):(c.arc(v.cx,v.cy,J,m(v.y01,v.x01),m(v.y11,v.x11),!d),c.arc(0,0,h,m(v.cy+v.y11,v.cx+v.x11),m(E.cy+E.y11,E.cx+E.x11),!d),c.arc(E.cx,E.cy,J,m(E.y11,E.x11),m(E.y01,E.x01),!d))):(c.moveTo(B,F),c.arc(0,0,h,R,T,!d)):c.moveTo(B,F),l>1e-12&&V>1e-12?D>1e-12?(v=I(Q,Y,K,U,l,-D,d),E=I(B,F,X,$,l,-D,d),c.lineTo(v.cx+v.x01,v.cy+v.y01),D<N?c.arc(v.cx,v.cy,D,m(v.y01,v.x01),m(E.y01,E.x01),!d):(c.arc(v.cx,v.cy,D,m(v.y01,v.x01),m(v.y11,v.x11),!d),c.arc(0,0,l,m(v.cy+v.y11,v.cx+v.x11),m(E.cy+E.y11,E.cx+E.x11),d),c.arc(E.cx,E.cy,D,m(E.y11,E.x11),m(E.y01,E.x01),!d))):c.arc(0,0,l,C,k,d):c.lineTo(Q,Y)}else c.moveTo(0,0);if(c.closePath(),u)return c=null,u+""||null}return u.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,a=(+r.apply(this,arguments)+ +i.apply(this,arguments))/2-O/2;return[x(a)*e,b(a)*e]},u.innerRadius=function(n){return arguments.length?(t="function"===typeof n?n:y(+n),u):t},u.outerRadius=function(t){return arguments.length?(n="function"===typeof t?t:y(+t),u):n},u.cornerRadius=function(t){return arguments.length?(e="function"===typeof t?t:y(+t),u):e},u.padRadius=function(t){return arguments.length?(a=null==t?null:"function"===typeof t?t:y(+t),u):a},u.startAngle=function(t){return arguments.length?(r="function"===typeof t?t:y(+t),u):r},u.endAngle=function(t){return arguments.length?(i="function"===typeof t?t:y(+t),u):i},u.padAngle=function(t){return arguments.length?(o="function"===typeof t?t:y(+t),u):o},u.context=function(t){return arguments.length?(c=null==t?null:t,u):c},u}().padAngle(C).outerRadius(it).innerRadius(B);return{path:e(t),centroid:e.centroid(t),segment:R[n]}})),gt=Object(r.useCallback)((function(){ht.current=!1;var t=function(t){var n=t.location,e=t.numOfSegments,a=t.angleOfSegment,r=360-Math.floor(n%360),i=Math.floor(r/a);return i>=e?0:i}({location:ft.current,numOfSegments:ut,angleOfSegment:st});tt(R[t])}),[st,ut,tt,R]),mt=Object(r.useCallback)((function(){var t=W({minSpin:U,maxSpin:$,numOfSegments:ut,location:ft.current});ft.current=t,ht.current=!0,l.a.timing(yt,{toValue:t,duration:Q,easing:h.a.inOut(h.a.sin),useNativeDriver:!0}).start(gt)}),[yt,$,U,ut,gt,Q]),xt=Object(r.useCallback)((function(){ht.current||mt()}),[mt]),vt=Object(r.useCallback)((function(t){var n={toValue:t,duration:H,useNativeDriver:!0};l.a.timing(pt,n).start((function(){return vt(1===t?-1:1)}))}),[H,pt]);return Object(r.useEffect)((function(){T||vt(1)}),[vt,T]),i.a.createElement(f.a,{onPress:xt},i.a.createElement(l.a.View,{style:Object(u.a)({transform:[{translateY:pt.interpolate({inputRange:[-1,0,1],outputRange:[-10,0,-10]})}],backgroundColor:at,width:e,height:e,borderRadius:e,alignItems:"center",marginTop:ct},et(3))},i.a.createElement(J.a,{style:Object(u.a)({marginTop:-ct,position:"absolute",width:ot,height:ot},et(6))},i.a.createElement(D.Polygon,{fill:nt.light,points:"".concat(ot/2,",0 ").concat(.85*ot,",").concat(ot/3," ").concat(ot/2,",").concat(ot," ").concat(.15*ot,",").concat(ot/3,","),stroke:nt.secondary,strokeWidth:.2})),i.a.createElement(l.a.View,{style:{width:e,height:e,transform:[{rotate:yt.interpolate({inputRange:[-360,0,360],outputRange:["-360deg","0deg","360deg"]})}]}},i.a.createElement(J.a,{style:{transform:[{rotate:"-".concat(lt,"deg")}]}},i.a.createElement(D.G,{x:it,y:it},dt.map((function(t,n){return i.a.createElement(D.G,{key:"arc-".concat(n)},i.a.createElement(D.Path,{d:String(t.path),fill:t.segment.color}),i.a.createElement(D.G,{origin:"".concat(t.centroid),rotation:360*n/R.length+lt},i.a.createElement(D.Text,{fill:rt,fontSize:E,textAnchor:"middle",x:t.centroid[0],y:t.centroid[1]-ct/2},t.segment.display)))})))))))}));n.default=Object(r.memo)((function(){var t=function(){var t=Object(c.a)();return Object(r.useMemo)((function(){return[{display:"1",value:"1",color:t.primary},{display:"2",value:"2",color:t.info},{display:"3",value:"3",color:t.danger},{display:"4",value:"4",color:t.brand},{display:"5",value:"5",color:t.warning},{display:"6",value:"6",color:t.success},{display:"7",value:"7",color:t.secondary}]}),[t.brand,t.danger,t.info,t.primary,t.secondary,t.success,t.warning])}(),n=Object(c.d)(),e=Object(r.useState)(null),u=Object(a.a)(e,2),s=u[0],l=u[1],h=Object(r.useCallback)((function(t){l(t.display)}),[]),f=Object(r.useCallback)(n("playground"),[n]);return i.a.createElement(o.j,{onLeftPress:f,title:"FortuneWheel"},i.a.createElement(Z,{onComplete:h,segments:t}),i.a.createElement(o.m,{center:!0,title:String(s)}))}))}}]);
//# sourceMappingURL=39.24366a59.chunk.js.map